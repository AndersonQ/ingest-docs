<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Deploy Beats to send data | Observability Guide | Elastic</title>
<meta class="elastic" name="content" content="Deploy Beats to send data | Observability Guide">

<link rel="home" href="index.html" title="Observability Guide"/>
<link rel="up" href="add-observability-data.html" title="Send data to Elasticsearch"/>
<link rel="prev" href="deploy-agent-to-send-data.html" title="Deploy Elastic Agent to send data"/>
<link rel="next" href="aws-elastic-serverless-forwarder.html" title="Elastic Serverless Forwarder for AWS"/>
<meta class="elastic" name="product_version" content=""/>
<meta class="elastic" name="product_name" content=""/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/"/>
<meta name="DC.subject" content=""/>
<meta name="DC.identifier" content=""/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://static-www.elastic.co/v3/assets/bltefdd0b53724fa2ce/blt280217a63b82a734/6202d3378b1f312528798412/elastic-logo.svg" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="172" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <!--© 2015-2022 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!-- Google Tag Manager for GA4 -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KNJMG2M');</script>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNJMG2M" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager for GA4-->

    <!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->
    <script type='text/javascript'>
      (function(){var g=function(e,h,f,g){
      this.get=function(a){for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};
      this.set=function(a,c){var b="",b=new Date;b.setTime(b.getTime()+6048E5);b="; expires="+b.toGMTString();document.cookie=a+"="+c+b+"; path=/; "};
      this.check=function(){var a=this.get(f);if(a)a=a.split(":");else if(100!=e)"v"==h&&(e=Math.random()>=e/100?0:100),a=[h,e,0],this.set(f,a.join(":"));else return!0;var c=a[1];if(100==c)return!0;switch(a[0]){case "v":return!1;case "r":return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c}return!0};
      this.go=function(){if(this.check()){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)}};
      this.start=function(){var a=this;window.addEventListener?window.addEventListener("load",function(){a.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){a.go()})}};
      try{(new g(100,"r","QSI_S_ZN_emkP0oSe9Qrn7kF","https://znemkp0ose9qrn7kf-elastic.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_ZID=ZN_emkP0oSe9Qrn7kF")).start()}catch(i){}})();
    </script><div id='ZN_emkP0oSe9Qrn7kF'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>
    <!--END WEBSITE FEEDBACK SNIPPET-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Observability Guide</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="add-observability-data.html">Send data to Elasticsearch</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="deploy-agent-to-send-data.html">« Deploy Elastic Agent to send data</a>
</span>
<span class="next">
<a href="aws-elastic-serverless-forwarder.html">Elastic Serverless Forwarder for AWS »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="deploy-beats-to-send-data"></a>Deploy Beats to send data<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/master/docs/en/observability/deploy-beats-to-send-data.asciidoc">edit</a></h2>
</div></div></div>
<p>Beats are lightweight data shippers that send operational data to
Elasticsearch. Elastic provides separate Beats for different types of data, such as
logs, metrics, and uptime. To send observability data, you must install multiple
shippers on a single host.</p>
<p>Prefer to use a single agent for your use case? Refer to
<a class="xref" href="deploy-agent-to-send-data.html" title="Deploy Elastic Agent to send data">Deploy Elastic Agent to send data</a>.</p>
<p>To get started with Beats:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Install and configure Filebeat on your servers to collect log events. For details, refer to
<a class="xref" href="deploy-beats-to-send-data.html#ingest-logs" title="Ingest logs with Filebeat">Ingest logs</a>.
</li>
<li class="listitem">
Install and configure Metricbeat on your servers to collect and preprocess system
and service metrics, such as information about running processes, as well as CPU, memory,
disk, and network utilization numbers. For details, refer to <a class="xref" href="deploy-beats-to-send-data.html#ingest-metrics" title="Ingest metrics with Metricbeat">Ingest metrics</a>.
</li>
<li class="listitem">
Install and configure Heartbeat on your servers to periodically check the status of your
services. For details, refer to <a class="xref" href="deploy-beats-to-send-data.html#ingest-uptime" title="Ingest uptime data with Heartbeat">Ingest uptime data</a>.
</li>
<li class="listitem">
If you have added an APM Server as part of an <a href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs" class="ulink" target="_top">Elasticsearch Service</a> deployment, configure your
APM agents to send data to your Elasticsearch cluster. For details, refer to <a class="xref" href="deploy-beats-to-send-data.html#instrument-apps" title="Instrument applications with APM">Instrument applications</a>.
</li>
</ol>
</div>
<div class="chapter xpack">
<div class="titlepage"><div><div>
<h3 class="title"><a id="ingest-logs"></a>Ingest logs with Filebeat<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/master/docs/en/observability/ingest-logs.asciidoc">edit</a></h3>
</div></div></div>

<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>If you haven&#8217;t already, you need to install Elasticsearch for storing and searching your data, and Kibana for visualizing and
managing it. For more information, see <a class="xref" href="spin-up-stack.html" title="Spin up the Elastic Stack">Spin up the Elastic Stack</a>.</p>
</div>
</div>
<p>Install and configure Filebeat on your servers to collect log events. Filebeat allows you ship log data from sources that come
in the form of files. It monitors the log files or locations that you specify,
collects log events, and forwards them to Elasticsearch. To ease the collection and parsing of
log formats for common applications such as Apache, MySQL, and Kafka, a number of
<a href="https://www.elastic.co/guide/en/beats/filebeat/master/filebeat-modules.html" class="ulink" target="_top">modules</a> are available.</p>
<h5><a id="install-filebeat"></a>Step 1: Install Filebeat<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/master/docs/en/observability/ingest-logs.asciidoc">edit</a></h5>
<p>Install Filebeat on all the servers you want to monitor.</p>
<p>To download and install Filebeat, use the commands that work with your system:</p>
<div class="tabs" data-tab-group="os">
  <div role="tablist" aria-label="Install">
    <button role="tab"
            aria-selected="true"
            aria-controls="deb-tab-install"
            id="deb-install">
      DEB
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="rpm-tab-install"
            id="rpm-install"
            tabindex="-1">
      RPM
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="mac-tab-install"
            id="mac-install"
            tabindex="-1">
      MacOS
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="linux-tab-install"
            id="linux-install"
            tabindex="-1">
      Linux
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="win-tab-install"
            id="win-install"
            tabindex="-1">
      Windows
    </button>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="deb-tab-install"
       aria-labelledby="deb-install">
<p>Version 8.7.0 of Filebeat has not yet been released.</p>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="rpm-tab-install"
       aria-labelledby="rpm-install"
       hidden="">
<p>Version 8.7.0 of Filebeat has not yet been released.</p>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="mac-tab-install"
       aria-labelledby="mac-install"
       hidden="">
<p>Version 8.7.0 of Filebeat has not yet been released.</p>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="linux-tab-install"
       aria-labelledby="linux-install"
       hidden="">
<p>Version 8.7.0 of Filebeat has not yet been released.</p>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="win-tab-install"
       aria-labelledby="win-install"
       hidden="">
<p>Version 8.7.0 of Filebeat has not yet been released.</p>
  </div>
</div>
<h6><a id="other-filebeat-installations"></a>Other installation options<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/master/docs/en/observability/ingest-logs.asciidoc">edit</a></h6>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="https://www.elastic.co/guide/en/beats/filebeat/master/running-on-kubernetes.html" class="ulink" target="_top">Kubernetes</a>
</li>
<li class="listitem">
<a href="https://www.elastic.co/guide/en/beats/filebeat/master/running-on-docker.html" class="ulink" target="_top">Docker</a>
</li>
<li class="listitem">
<a href="https://www.elastic.co/guide/en/beats/filebeat/master/running-on-cloudfoundry.html" class="ulink" target="_top">Cloud Foundry</a>
</li>
<li class="listitem">
<a href="https://www.elastic.co/guide/en/beats/filebeat/master/setup-repositories.html" class="ulink" target="_top">APT or YUM</a>
</li>
<li class="listitem">
<a href="https://www.elastic.co/downloads/beats/filebeat" class="ulink" target="_top">Download page</a>
</li>
</ul>
</div>
<h5><a id="logs-connect-to-stack"></a>Step 2: Connect to Elasticsearch and Kibana<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/master/docs/en/observability/ingest-logs.asciidoc">edit</a></h5>
<p>Connections to Elasticsearch and Kibana are required to set up Filebeat.</p>
<p>Set the connection information in <code class="literal">filebeat.yml</code>. To locate this configuration file,
see <a href="https://www.elastic.co/guide/en/beats/filebeat/master/directory-layout.html" class="ulink" target="_top">Directory layout</a>.</p>
<div class="tabs" data-tab-group="host">
  <div role="tablist" aria-label="Set connection">
    <button role="tab"
            aria-selected="true"
            aria-controls="cloud-tab-set-connection"
            id="cloud-set-connection">
      Elasticsearch Service
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="self-managed-tab-set-connection"
            id="self-managed-set-connection"
            tabindex="-1">
      Self-managed
    </button>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="cloud-tab-set-connection"
       aria-labelledby="cloud-set-connection">
<p>Specify the <a href="https://www.elastic.co/guide/en/beats/filebeat/master/configure-cloud-id.html" class="ulink" target="_top">cloud.id</a> of your Elasticsearch Service, and set
<a href="https://www.elastic.co/guide/en/beats/filebeat/master/configure-cloud-id.html" class="ulink" target="_top">cloud.auth</a> to a user who is authorized to
set up Filebeat. For example:</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">cloud.id: "staging:dXMtZWFzdC0xLmF3cy5mb3VuZC5pbyRjZWM2ZjI2MWE3NGJmMjRjZTMzYmI4ODExYjg0Mjk0ZiRjNmMyY2E2ZDA0MjI0OWFmMGNjN2Q3YTllOTYyNTc0Mw=="
cloud.auth: "filebeat_setup:YOUR_PASSWORD" <a id="CO5-1"></a><i class="conum" data-value="1"></i></pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO5-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>This examples shows a hard-coded password, but you should store sensitive
values
in the <a href="https://www.elastic.co/guide/en/beats/filebeat/master/keystore.html" class="ulink" target="_top">secrets keystore</a>.</p>
</td>
</tr>
</table>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="self-managed-tab-set-connection"
       aria-labelledby="self-managed-set-connection"
       hidden="">
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>Set the host and port where Filebeat can find the Elasticsearch installation, and
set the username and password of a user who is authorized to set up
Filebeat. For example:</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">output.elasticsearch:
  hosts: ["https://myEShost:9200"]
  username: "filebeat_internal"
  password: "YOUR_PASSWORD" <a id="CO6-1"></a><i class="conum" data-value="1"></i>
  ssl:
    enabled: true
    ca_trusted_fingerprint: "b9a10bbe64ee9826abeda6546fc988c8bf798b41957c33d05db736716513dc9c" <a id="CO6-2"></a><i class="conum" data-value="2"></i></pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO6-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>This example shows a hard-coded password, but you should store sensitive
values
in the <a href="https://www.elastic.co/guide/en/beats/filebeat/master/keystore.html" class="ulink" target="_top">secrets keystore</a>.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO6-2"><i class="conum" data-value="2"></i></a></p>
</td>
<td align="left" valign="top">
<p>This example shows a hard-coded fingerprint, but you should store sensitive
values
in the <a href="https://www.elastic.co/guide/en/beats/filebeat/master/keystore.html" class="ulink" target="_top">secrets keystore</a>.
The fingerprint is a HEX encoded SHA-256 of a CA certificate,
when you start Elasticsearch for the first time, security features such as
network encryption (TLS) for Elasticsearch are enabled by default. If you are
using the self-signed certificate generated by Elasticsearch when it is started
for the first time, you will need to add its fingerprint here. The
fingerprint is printed on Elasticsearch start up logs, or you can refer to <a href="https://www.elastic.co/guide/en/elasticsearch/reference/8.0/configuring-stack-security.html#_connect_clients_to_elasticsearch_5" class="ulink" target="_top">connect clients to Elasticsearch
documentation</a> for other options on retrieving it. If you are
providing your own SSL certificate to Elasticsearch refer to
<a href="https://www.elastic.co/guide/en/beats/filebeat/master/configuration-ssl.html#ssl-client-config" class="ulink" target="_top">Filebeat
documentation on how to setup SSL</a>.</p>
</td>
</tr>
</table>
</div>
</li>
<li class="listitem">
<p>If you plan to use our pre-built Kibana dashboards, configure the Kibana
endpoint. Skip this step if Kibana is running on the same host as Elasticsearch.</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">  setup.kibana:
    host: "mykibanahost:5601" <a id="CO7-1"></a><i class="conum" data-value="1"></i>
    username: "my_kibana_user" <a id="CO7-2"></a><i class="conum" data-value="2"></i> <a id="CO7-3"></a><i class="conum" data-value="3"></i>
    password: "{pwd}"</pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO7-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>The hostname and port of the machine where Kibana is running,
for example, <code class="literal">mykibanahost:5601</code>. If you specify a path after the port number,
include the scheme and port: <code class="literal">http://mykibanahost:5601/path</code>.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO7-2"><i class="conum" data-value="2"></i></a></p>
</td>
<td align="left" valign="top">
<p>The <code class="literal">username</code> and <code class="literal">password</code> settings for Kibana are optional. If you don&#8217;t
specify credentials for Kibana, Filebeat uses the <code class="literal">username</code> and <code class="literal">password</code>
specified for the Elasticsearch output.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO7-3"><i class="conum" data-value="3"></i></a></p>
</td>
<td align="left" valign="top">
<p>To use the pre-built Kibana dashboards, this user must be authorized to
view dashboards or have the
<code class="literal">kibana_admin</code> <a href="https://www.elastic.co/guide/en/elasticsearch/reference/master/built-in-roles.html" class="ulink" target="_top">built-in role</a>.</p>
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
  </div>
</div>
<p>To learn more about required roles and privileges, see <a href="https://www.elastic.co/guide/en/beats/filebeat/master/feature-roles.html" class="ulink" target="_top">Grant users access to secured resources</a>.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>You can send data to other <a href="https://www.elastic.co/guide/en/beats/filebeat/master/configuring-output.html" class="ulink" target="_top">outputs</a>, such as Logstash,
but that requires additional configuration and setup.</p>
</div>
</div>
<h5><a id="enable-logs-modules"></a>Step 3: Enable and configure modules<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/master/docs/en/observability/ingest-logs.asciidoc">edit</a></h5>
<p>Filebeat uses modules to collect and parse log data.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>Identify the modules you need to enable. To see a list of available <a href="https://www.elastic.co/guide/en/beats/filebeat/master/filebeat-modules.html" class="ulink" target="_top">modules</a>, run:</p>
<div class="tabs" data-tab-group="os">
  <div role="tablist" aria-label="List modules">
    <button role="tab"
            aria-selected="true"
            aria-controls="deb-tab-list-modules"
            id="deb-list-modules">
      DEB
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="rpm-tab-list-modules"
            id="rpm-list-modules"
            tabindex="-1">
      RPM
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="mac-tab-list-modules"
            id="mac-list-modules"
            tabindex="-1">
      MacOS
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="linux-tab-list-modules"
            id="linux-list-modules"
            tabindex="-1">
      Linux
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="win-tab-list-modules"
            id="win-list-modules"
            tabindex="-1">
      Windows
    </button>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="deb-tab-list-modules"
       aria-labelledby="deb-list-modules">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">filebeat modules list</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="rpm-tab-list-modules"
       aria-labelledby="rpm-list-modules"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">filebeat modules list</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="mac-tab-list-modules"
       aria-labelledby="mac-list-modules"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">./filebeat modules list</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="linux-tab-list-modules"
       aria-labelledby="linux-list-modules"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">./filebeat modules list</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="win-tab-list-modules"
       aria-labelledby="win-list-modules"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">PS &gt; .\filebeat.exe modules list</pre>
</div>
  </div>
</div>
<p>Can’t find a module for your file type? Skip this section and
<a href="https://www.elastic.co/guide/en/beats/filebeat/master/configuration-filebeat-options.html" class="ulink" target="_top">configure the input manually</a>.</p>
</li>
<li class="listitem">
<p>From the installation directory, enable one or more modules. For example, the
following command enables the <code class="literal">nginx</code> module config:</p>
<div class="tabs" data-tab-group="os">
  <div role="tablist" aria-label="Enable modules">
    <button role="tab"
            aria-selected="true"
            aria-controls="deb-tab-enable-modules"
            id="deb-enable-modules">
      DEB
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="rpm-tab-enable-modules"
            id="rpm-enable-modules"
            tabindex="-1">
      RPM
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="mac-tab-enable-modules"
            id="mac-enable-modules"
            tabindex="-1">
      MacOS
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="linux-tab-enable-modules"
            id="linux-enable-modules"
            tabindex="-1">
      Linux
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="win-tab-enable-modules"
            id="win-enable-modules"
            tabindex="-1">
      Windows
    </button>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="deb-tab-enable-modules"
       aria-labelledby="deb-enable-modules">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">filebeat modules enable nginx</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="rpm-tab-enable-modules"
       aria-labelledby="rpm-enable-modules"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">filebeat modules enable nginx</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="mac-tab-enable-modules"
       aria-labelledby="mac-enable-modules"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">./filebeat modules enable nginx</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="linux-tab-enable-modules"
       aria-labelledby="linux-enable-modules"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">./filebeat modules enable nginx</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="win-tab-enable-modules"
       aria-labelledby="win-enable-modules"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">PS &gt; .\filebeat.exe modules enable nginx</pre>
</div>
  </div>
</div>
</li>
<li class="listitem">
<p>In the module config under <code class="literal">modules.d</code>, change the module settings to match
your environment. You must enable at least one fileset in the module.
<span class="strong strong"><strong>Filesets are disabled by default.</strong></span></p>
<p>For example, log locations are set based on the OS. If your logs aren&#8217;t in
default locations, set the <code class="literal">paths</code> variable:</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">- module: nginx
  access:
    enabled: true
    var.paths: ["/var/log/nginx/access.log*"] <a id="CO8-1"></a><i class="conum" data-value="1"></i></pre>
</div>
</li>
</ol>
</div>
<p>To see the full list of variables for a module, see the documentation under
<a href="https://www.elastic.co/guide/en/beats/filebeat/master/filebeat-modules.html" class="ulink" target="_top">Modules</a>.</p>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>To test your configuration file, change to the directory where the Filebeat binary
is installed, and run Filebeat in the foreground with the following options specified:
<code class="literal">./filebeat test config -e</code>. Make sure your config files are in the path expected by
Filebeat (see <a href="https://www.elastic.co/guide/en/beats/filebeat/master/directory-layout.html" class="ulink" target="_top">Directory layout</a>),
or use the <code class="literal">-c</code> flag to specify the path to the config file.</p>
</div>
</div>
<p>For more information about configuring Filebeat, also see:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="https://www.elastic.co/guide/en/beats/filebeat/master/configuring-howto-filebeat.html" class="ulink" target="_top">Configure Filebeat</a>
</li>
<li class="listitem">
<a href="https://www.elastic.co/guide/en/beats/libbeat/master/config-file-format.html" class="ulink" target="_top">Config file format</a>
</li>
<li class="listitem">
<a href="https://www.elastic.co/guide/en/beats/filebeat/master/filebeat-reference-yml.html" class="ulink" target="_top"><code class="literal">filebeat.reference.yml</code></a>: This reference
configuration file shows all non-deprecated options. You’ll find it in the same location as <code class="literal">filebeat.yml</code>.
</li>
</ul>
</div>
<h5><a id="set-filebeat-assets"></a>Step 4: Set up assets<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/master/docs/en/observability/ingest-logs.asciidoc">edit</a></h5>
<p>Filebeat comes with predefined assets for parsing, indexing, and
visualizing your data. To load these assets:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Make sure the user specified in <code class="literal">filebeat.yml</code> is
<a href="https://www.elastic.co/guide/en/beats/filebeat/master/privileges-to-setup-beats.html" class="ulink" target="_top">authorized to set up Filebeat</a>.
</li>
<li class="listitem">
<p>From the installation directory, run:</p>
<div class="tabs" data-tab-group="os">
  <div role="tablist" aria-label="Set up">
    <button role="tab"
            aria-selected="true"
            aria-controls="deb-tab-setup"
            id="deb-setup">
      DEB
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="rpm-tab-setup"
            id="rpm-setup"
            tabindex="-1">
      RPM
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="mac-tab-setup"
            id="mac-setup"
            tabindex="-1">
      MacOS
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="linux-tab-setup"
            id="linux-setup"
            tabindex="-1">
      Linux
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="win-tab-setup"
            id="win-setup"
            tabindex="-1">
      Windows
    </button>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="deb-tab-setup"
       aria-labelledby="deb-setup">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">filebeat setup -e</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="rpm-tab-setup"
       aria-labelledby="rpm-setup"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">filebeat setup -e</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="mac-tab-setup"
       aria-labelledby="mac-setup"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">./filebeat setup -e</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="linux-tab-setup"
       aria-labelledby="linux-setup"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">./filebeat setup -e</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="win-tab-setup"
       aria-labelledby="win-setup"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">PS &gt; .\filebeat.exe setup -e</pre>
</div>
  </div>
</div>
<p><code class="literal">-e</code> is optional and sends output to standard error instead of the configured log output.</p>
</li>
</ol>
</div>
<p>This step loads the recommended <a href="https://www.elastic.co/guide/en/elasticsearch/reference/master/indices-templates.html" class="ulink" target="_top">index template</a> for writing to Elasticsearch
and deploys the sample dashboards for visualizing the data in Kibana.</p>
<p>This step does not load the ingest pipelines used to parse log lines. By
default, ingest pipelines are set up automatically the first time you run the
module and connect to Elasticsearch.</p>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>A connection to Elasticsearch (or Elasticsearch Service) is required to set up the initial
environment. If you&#8217;re using a different output, such as Logstash, see:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="https://www.elastic.co/guide/en/beats/filebeat/master/filebeat-template.html#load-template-manually" class="ulink" target="_top">Load the index template manually</a>
</li>
<li class="listitem">
<a href="https://www.elastic.co/guide/en/beats/filebeat/master/load-kibana-dashboards.html" class="ulink" target="_top">Load Kibana dashboards</a>
</li>
<li class="listitem">
<a href="https://www.elastic.co/guide/en/beats/filebeat/master/load-ingest-pipelines.html" class="ulink" target="_top">Load ingest pipelines</a>
</li>
</ul>
</div>
</div>
</div>
<h5><a id="start-filebeat"></a>Step 5: Start Filebeat<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/master/docs/en/observability/ingest-logs.asciidoc">edit</a></h5>
<p>Before starting Filebeat, modify the user credentials in
<code class="literal">filebeat.yml</code> and specify a user who is
<a href="https://www.elastic.co/guide/en/beats/filebeat/master/privileges-to-publish-events.html" class="ulink" target="_top">authorized to publish events</a>.</p>
<p>To start Filebeat, run:</p>
<div class="tabs" data-tab-group="os">
  <div role="tablist" aria-label="Start">
    <button role="tab"
            aria-selected="true"
            aria-controls="deb-tab-start"
            id="deb-start">
      DEB
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="rpm-tab-start"
            id="rpm-start"
            tabindex="-1">
      RPM
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="mac-tab-start"
            id="mac-start"
            tabindex="-1">
      MacOS
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="linux-tab-start"
            id="linux-start"
            tabindex="-1">
      Linux
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="win-tab-start"
            id="win-start"
            tabindex="-1">
      Windows
    </button>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="deb-tab-start"
       aria-labelledby="deb-start">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">sudo service filebeat start</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>If you use an <code class="literal">init.d</code> script to start Filebeat, you can&#8217;t specify command
line flags (see <a href="https://www.elastic.co/guide/en/beats/filebeat/master/command-line-options.html" class="ulink" target="_top">Command reference</a>). To specify flags, start Filebeat in
the foreground.</p>
</div>
</div>
<p>Also see <a href="https://www.elastic.co/guide/en/beats/filebeat/master/running-with-systemd.html" class="ulink" target="_top">Filebeat and systemd</a>.</p>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="rpm-tab-start"
       aria-labelledby="rpm-start"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">sudo service filebeat start</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>If you use an <code class="literal">init.d</code> script to start Filebeat, you can&#8217;t specify command
line flags (see <a href="https://www.elastic.co/guide/en/beats/filebeat/master/command-line-options.html" class="ulink" target="_top">Command reference</a>). To specify flags, start Filebeat in
the foreground.</p>
</div>
</div>
<p>Also see <a href="https://www.elastic.co/guide/en/beats/filebeat/master/running-with-systemd.html" class="ulink" target="_top">Filebeat and systemd</a>.</p>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="mac-tab-start"
       aria-labelledby="mac-start"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">sudo chown root filebeat.yml <a id="CO8-2"></a><i class="conum" data-value="1"></i>
sudo chown root modules.d/nginx.yml <a id="CO8-3"></a><i class="conum" data-value="1"></i>
sudo ./filebeat -e</pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO8-1"><i class="conum" data-value="1"></i></a><a href="#CO8-2"></a><a href="#CO8-3"></a></p>
</td>
<td align="left" valign="top">
<p>You&#8217;ll be running Filebeat as root, so you need to change ownership of the
configuration file and any configurations enabled in the <code class="literal">modules.d</code> directory,
or run Filebeat with <code class="literal">--strict.perms=false</code> specified. See
<a href="https://www.elastic.co/guide/en/beats/libbeat/master/config-file-permissions.html" class="ulink" target="_top">Config File Ownership and Permissions</a>.</p>
</td>
</tr>
</table>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="linux-tab-start"
       aria-labelledby="linux-start"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">sudo chown root filebeat.yml <a id="CO9-1"></a><i class="conum" data-value="1"></i>
sudo chown root modules.d/nginx.yml <a id="CO9-2"></a><i class="conum" data-value="1"></i>
sudo ./filebeat -e</pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO9-1"><i class="conum" data-value="1"></i></a><a href="#CO9-2"></a></p>
</td>
<td align="left" valign="top">
<p>You&#8217;ll be running Filebeat as root, so you need to change ownership of the
configuration file and any configurations enabled in the <code class="literal">modules.d</code> directory,
or run Filebeat with <code class="literal">--strict.perms=false</code> specified. See
<a href="https://www.elastic.co/guide/en/beats/libbeat/master/config-file-permissions.html" class="ulink" target="_top">Config File Ownership and Permissions</a>.</p>
</td>
</tr>
</table>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="win-tab-start"
       aria-labelledby="win-start"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">PS C:\Program Files\filebeat&gt; Start-Service filebeat</pre>
</div>
<p>By default, Windows log files are stored in <code class="literal">C:\ProgramData\filebeat\Logs</code>.</p>
  </div>
</div>
<p>Filebeat should begin streaming events to Elasticsearch.</p>
<h5><a id="view-logs-kibana"></a>Step 6: Confirm logs are streaming<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/master/docs/en/observability/ingest-logs.asciidoc">edit</a></h5>
<p>Let&#8217;s confirm your data is correctly streaming to your cloud instance.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>Launch Kibana:</p>
<div class="tabs" data-tab-group="host">
  <div role="tablist" aria-label="Open Kibana">
    <button role="tab"
            aria-selected="true"
            aria-controls="cloud-tab-open-kibana"
            id="cloud-open-kibana">
      Elasticsearch Service
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="self-managed-tab-open-kibana"
            id="self-managed-open-kibana"
            tabindex="-1">
      Self-managed
    </button>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="cloud-tab-open-kibana"
       aria-labelledby="cloud-open-kibana">
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<a href="https://cloud.elastic.co/" class="ulink" target="_top">Log in</a> to your Elastic Cloud account.
</li>
<li class="listitem">
Navigate to the Kibana endpoint in your deployment.
</li>
</ol>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="self-managed-tab-open-kibana"
       aria-labelledby="self-managed-open-kibana"
       hidden="">
<p>Point your browser to <a href="http://localhost:5601" class="ulink" target="_top">http://localhost:5601</a>, replacing
<code class="literal">localhost</code> with the name of the Kibana host.</p>
  </div>
</div>
</li>
<li class="listitem">
Open the main menu, then click <span class="strong strong"><strong>Discover</strong></span>.
</li>
<li class="listitem">
<p>Select <code class="literal">filebeat-*</code> as your data view.</p>
<p>Each document in the index that matches the <code class="literal">filebeat-*</code> data view
is displayed. By default, <span class="strong strong"><strong>Discover</strong></span> shows data for the last 15 minutes.  If you have
a time-based index, and no data displays, you might need to increase the time range.</p>
<p>You can now search your log messages, filter your search results, add or remove fields,
examine the document contents in either table or JSON format, and view a document in context.</p>
</li>
</ol>
</div>
<p>Now let&#8217;s have a look at the <a class="xref" href="monitor-logs.html" title="Log monitoring">Logs app</a>.</p>
</div>

<div class="chapter xpack">
<div class="titlepage"><div><div>
<h3 class="title"><a id="ingest-metrics"></a>Ingest metrics with Metricbeat<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/master/docs/en/observability/ingest-metrics.asciidoc">edit</a></h3>
</div></div></div>

<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>If you haven&#8217;t already, you need to install Elasticsearch for storing and searching your data, and Kibana for visualizing and
managing it. For more information, see <a class="xref" href="spin-up-stack.html" title="Spin up the Elastic Stack">Spin up the Elastic Stack</a>.</p>
</div>
</div>
<p>Install and configure Metricbeat on your servers to collect and preprocess system
and service metrics, such as information about running processes, as well as CPU, memory,
disk, and network utilization numbers.</p>
<p>Metricbeat comes with predefined assets for parsing, indexing, and
visualizing your data. To load these assets, Metricbeat uses
<a href="https://www.elastic.co/guide/en/beats/metricbeat/master/metricbeat-modules.html" class="ulink" target="_top">modules</a>, before sending them to Elasticsearch. Each
integration defines the basic logic for collecting data from specific services, such as
Redis or MySQL. A module consists of metricsets that fetch and structure the data. To learn more, see
<a href="https://www.elastic.co/guide/en/beats/metricbeat/master/how-metricbeat-works.html" class="ulink" target="_top">How Metricbeat works</a>.</p>
<h5><a id="install-metricbeat"></a>Step 1: Install Metricbeat<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/master/docs/en/observability/ingest-metrics.asciidoc">edit</a></h5>
<p>Install Metricbeat as close as possible to the service you want to monitor.</p>
<p>To download and install Metricbeat, use the commands that work with your system:</p>
<div class="tabs" data-tab-group="os">
  <div role="tablist" aria-label="Install">
    <button role="tab"
            aria-selected="true"
            aria-controls="deb-tab-install"
            id="deb-install">
      DEB
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="rpm-tab-install"
            id="rpm-install"
            tabindex="-1">
      RPM
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="mac-tab-install"
            id="mac-install"
            tabindex="-1">
      MacOS
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="linux-tab-install"
            id="linux-install"
            tabindex="-1">
      Linux
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="win-tab-install"
            id="win-install"
            tabindex="-1">
      Windows
    </button>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="deb-tab-install"
       aria-labelledby="deb-install">
<p>Version 8.7.0 of Metricbeat has not yet been released.</p>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="rpm-tab-install"
       aria-labelledby="rpm-install"
       hidden="">
<p>Version 8.7.0 of Metricbeat has not yet been released.</p>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="mac-tab-install"
       aria-labelledby="mac-install"
       hidden="">
<p>Version 8.7.0 of Metricbeat has not yet been released.</p>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="linux-tab-install"
       aria-labelledby="linux-install"
       hidden="">
<p>Version 8.7.0 of Metricbeat has not yet been released.</p>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="win-tab-install"
       aria-labelledby="win-install"
       hidden="">
<p>Version 8.7.0 of Metricbeat has not yet been released.</p>
  </div>
</div>
<h6><a id="_other_installation_options"></a>Other installation options<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/master/docs/en/observability/ingest-metrics.asciidoc">edit</a></h6>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="https://www.elastic.co/guide/en/beats/metricbeat/master/running-on-kubernetes.html" class="ulink" target="_top">Kubernetes</a>
</li>
<li class="listitem">
<a href="https://www.elastic.co/guide/en/beats/metricbeat/master/running-on-docker.html" class="ulink" target="_top">Docker</a>
</li>
<li class="listitem">
<a href="https://www.elastic.co/guide/en/beats/metricbeat/master/running-on-cloudfoundry.html" class="ulink" target="_top">Cloud Foundry</a>
</li>
<li class="listitem">
<a href="https://www.elastic.co/guide/en/beats/metricbeat/master/setup-repositories.html" class="ulink" target="_top">APT or YUM</a>
</li>
<li class="listitem">
<a href="https://www.elastic.co/downloads/beats/metricbeat" class="ulink" target="_top">Download page</a>
</li>
</ul>
</div>
<h5><a id="metrics-connect-to-stack"></a>Step 2: Connect to Elasticsearch and Kibana<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/master/docs/en/observability/ingest-metrics.asciidoc">edit</a></h5>
<p>Connections to Elasticsearch and Kibana are required to set up Metricbeat.</p>
<p>Set the connection information in <code class="literal">metricbeat.yml</code>. To locate this configuration file,
see <a href="https://www.elastic.co/guide/en/beats/metricbeat/master/directory-layout.html" class="ulink" target="_top">Directory layout</a>.</p>
<div class="tabs" data-tab-group="host">
  <div role="tablist" aria-label="Set connection">
    <button role="tab"
            aria-selected="true"
            aria-controls="cloud-tab-set-connection"
            id="cloud-set-connection">
      Elasticsearch Service
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="self-managed-tab-set-connection"
            id="self-managed-set-connection"
            tabindex="-1">
      Self-managed
    </button>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="cloud-tab-set-connection"
       aria-labelledby="cloud-set-connection">
<p>Specify the <a href="https://www.elastic.co/guide/en/beats/metricbeat/master/configure-cloud-id.html" class="ulink" target="_top">cloud.id</a> of your Elasticsearch Service, and set
<a href="https://www.elastic.co/guide/en/beats/metricbeat/master/configure-cloud-id.html" class="ulink" target="_top">cloud.auth</a> to a user who is authorized to
set up Metricbeat. For example:</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">cloud.id: "staging:dXMtZWFzdC0xLmF3cy5mb3VuZC5pbyRjZWM2ZjI2MWE3NGJmMjRjZTMzYmI4ODExYjg0Mjk0ZiRjNmMyY2E2ZDA0MjI0OWFmMGNjN2Q3YTllOTYyNTc0Mw=="
cloud.auth: "metricbeat_setup:YOUR_PASSWORD" <a id="CO10-1"></a><i class="conum" data-value="1"></i></pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO10-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>This examples shows a hard-coded password, but you should store sensitive
values
in the <a href="https://www.elastic.co/guide/en/beats/metricbeat/master/keystore.html" class="ulink" target="_top">secrets keystore</a>.</p>
</td>
</tr>
</table>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="self-managed-tab-set-connection"
       aria-labelledby="self-managed-set-connection"
       hidden="">
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>Set the host and port where Metricbeat can find the Elasticsearch installation, and
set the username and password of a user who is authorized to set up
Metricbeat. For example:</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">output.elasticsearch:
  hosts: ["https://myEShost:9200"]
  username: "metricbeat_internal"
  password: "YOUR_PASSWORD" <a id="CO11-1"></a><i class="conum" data-value="1"></i>
  ssl:
    enabled: true
    ca_trusted_fingerprint: "b9a10bbe64ee9826abeda6546fc988c8bf798b41957c33d05db736716513dc9c" <a id="CO11-2"></a><i class="conum" data-value="2"></i></pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO11-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>This example shows a hard-coded password, but you should store sensitive
values
in the <a href="https://www.elastic.co/guide/en/beats/metricbeat/master/keystore.html" class="ulink" target="_top">secrets keystore</a>.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO11-2"><i class="conum" data-value="2"></i></a></p>
</td>
<td align="left" valign="top">
<p>This example shows a hard-coded fingerprint, but you should store sensitive
values
in the <a href="https://www.elastic.co/guide/en/beats/metricbeat/master/keystore.html" class="ulink" target="_top">secrets keystore</a>.
The fingerprint is a HEX encoded SHA-256 of a CA certificate,
when you start Elasticsearch for the first time, security features such as
network encryption (TLS) for Elasticsearch are enabled by default. If you are
using the self-signed certificate generated by Elasticsearch when it is started
for the first time, you will need to add its fingerprint here. The
fingerprint is printed on Elasticsearch start up logs, or you can refer to <a href="https://www.elastic.co/guide/en/elasticsearch/reference/8.0/configuring-stack-security.html#_connect_clients_to_elasticsearch_5" class="ulink" target="_top">connect clients to Elasticsearch
documentation</a> for other options on retrieving it. If you are
providing your own SSL certificate to Elasticsearch refer to
<a href="https://www.elastic.co/guide/en/beats/metricbeat/master/configuration-ssl.html#ssl-client-config" class="ulink" target="_top">Metricbeat
documentation on how to setup SSL</a>.</p>
</td>
</tr>
</table>
</div>
</li>
<li class="listitem">
<p>If you plan to use our pre-built Kibana dashboards, configure the Kibana
endpoint. Skip this step if Kibana is running on the same host as Elasticsearch.</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">  setup.kibana:
    host: "mykibanahost:5601" <a id="CO12-1"></a><i class="conum" data-value="1"></i>
    username: "my_kibana_user" <a id="CO12-2"></a><i class="conum" data-value="2"></i> <a id="CO12-3"></a><i class="conum" data-value="3"></i>
    password: "{pwd}"</pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO12-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>The hostname and port of the machine where Kibana is running,
for example, <code class="literal">mykibanahost:5601</code>. If you specify a path after the port number,
include the scheme and port: <code class="literal">http://mykibanahost:5601/path</code>.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO12-2"><i class="conum" data-value="2"></i></a></p>
</td>
<td align="left" valign="top">
<p>The <code class="literal">username</code> and <code class="literal">password</code> settings for Kibana are optional. If you don&#8217;t
specify credentials for Kibana, Metricbeat uses the <code class="literal">username</code> and <code class="literal">password</code>
specified for the Elasticsearch output.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO12-3"><i class="conum" data-value="3"></i></a></p>
</td>
<td align="left" valign="top">
<p>To use the pre-built Kibana dashboards, this user must be authorized to
view dashboards or have the
<code class="literal">kibana_admin</code> <a href="https://www.elastic.co/guide/en/elasticsearch/reference/master/built-in-roles.html" class="ulink" target="_top">built-in role</a>.</p>
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
  </div>
</div>
<p>To learn more about required roles and privileges, see <a href="https://www.elastic.co/guide/en/beats/metricbeat/master/feature-roles.html" class="ulink" target="_top">Grant users access to secured resources</a>.</p>
<h5><a id="enable-metrics-modules"></a>Step 3: Enable and configure modules<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/master/docs/en/observability/ingest-metrics.asciidoc">edit</a></h5>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>Identify the modules you need to enable. To see a list of available <a href="https://www.elastic.co/guide/en/beats/metricbeat/master/metricbeat-modules.html" class="ulink" target="_top">modules</a>, run:</p>
<div class="tabs" data-tab-group="os">
  <div role="tablist" aria-label="List modules">
    <button role="tab"
            aria-selected="true"
            aria-controls="deb-tab-list-modules"
            id="deb-list-modules">
      DEB
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="rpm-tab-list-modules"
            id="rpm-list-modules"
            tabindex="-1">
      RPM
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="mac-tab-list-modules"
            id="mac-list-modules"
            tabindex="-1">
      MacOS
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="linux-tab-list-modules"
            id="linux-list-modules"
            tabindex="-1">
      Linux
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="win-tab-list-modules"
            id="win-list-modules"
            tabindex="-1">
      Windows
    </button>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="deb-tab-list-modules"
       aria-labelledby="deb-list-modules">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">metricbeat modules list</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="rpm-tab-list-modules"
       aria-labelledby="rpm-list-modules"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">metricbeat modules list</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="mac-tab-list-modules"
       aria-labelledby="mac-list-modules"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">./metricbeat modules list</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="linux-tab-list-modules"
       aria-labelledby="linux-list-modules"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">./metricbeat modules list</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="win-tab-list-modules"
       aria-labelledby="win-list-modules"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">PS &gt; .\metricbeat.exe modules list</pre>
</div>
  </div>
</div>
</li>
<li class="listitem">
<p>From the installation directory, enable one or more modules. If you accept the default configuration without enabling additional
modules, Metricbeat collects system metrics only.</p>
<p>The following command enables the <code class="literal">nginx</code> config in the <code class="literal">modules.d</code> directory:</p>
<div class="tabs" data-tab-group="os">
  <div role="tablist" aria-label="Enable modules">
    <button role="tab"
            aria-selected="true"
            aria-controls="deb-tab-enable-modules"
            id="deb-enable-modules">
      DEB
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="rpm-tab-enable-modules"
            id="rpm-enable-modules"
            tabindex="-1">
      RPM
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="mac-tab-enable-modules"
            id="mac-enable-modules"
            tabindex="-1">
      MacOS
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="linux-tab-enable-modules"
            id="linux-enable-modules"
            tabindex="-1">
      Linux
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="win-tab-enable-modules"
            id="win-enable-modules"
            tabindex="-1">
      Windows
    </button>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="deb-tab-enable-modules"
       aria-labelledby="deb-enable-modules">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">metricbeat modules enable nginx</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="rpm-tab-enable-modules"
       aria-labelledby="rpm-enable-modules"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">metricbeat modules enable nginx</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="mac-tab-enable-modules"
       aria-labelledby="mac-enable-modules"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">./metricbeat modules enable nginx</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="linux-tab-enable-modules"
       aria-labelledby="linux-enable-modules"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">./metricbeat modules enable nginx</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="win-tab-enable-modules"
       aria-labelledby="win-enable-modules"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">PS &gt; .\metricbeat.exe modules enable nginx</pre>
</div>
  </div>
</div>
<p>See the <a href="https://www.elastic.co/guide/en/beats/metricbeat/master/command-line-options.html#modules-command" class="ulink" target="_top">modules command</a>
to learn more about this command. If you are using a Docker image,
see <a href="https://www.elastic.co/guide/en/beats/metricbeat/master/running-on-docker.html" class="ulink" target="_top">Run Metricbeat on Docker</a>.</p>
</li>
<li class="listitem">
In the module config under <code class="literal">modules.d</code>, change the module settings to match your environment.
See <a href="https://www.elastic.co/guide/en/beats/metricbeat/master/configuration-metricbeat.html#module-config-options" class="ulink" target="_top">Standard config options</a>
for more about available settings.
</li>
</ol>
</div>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>To test your configuration file, change to the directory where the Metricbeat binary is installed, and run
Metricbeat in the foreground with the following options specified: <code class="literal">./metricbeat test config -e</code>. Make sure
your config files are in the path expected by Metricbeat (see
<a href="https://www.elastic.co/guide/en/beats/metricbeat/master/directory-layout.html" class="ulink" target="_top">Directory layout</a>), or use
the <code class="literal">-c</code> flag to specify the path to the config file.</p>
</div>
</div>
<p>For more information about configuring Metricbeat, also see:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="https://www.elastic.co/guide/en/beats/metricbeat/master/configuring-howto-metricbeat.html" class="ulink" target="_top">Configure Metricbeat</a>
</li>
<li class="listitem">
<a href="https://www.elastic.co/guide/en/beats/libbeat/master/config-file-format.html" class="ulink" target="_top">Config file format</a>
</li>
<li class="listitem">
<a href="https://www.elastic.co/guide/en/beats/metricbeat/master/metricbeat-reference-yml.html" class="ulink" target="_top"><code class="literal">metricbeat.reference.yml</code></a>:
This reference configuration file shows all non-deprecated options. You’ll find it in the same location as <code class="literal">metricbeat.yml</code>.
</li>
</ul>
</div>
<h5><a id="set-metricbeat-assets"></a>Step 4: Set up assets<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/master/docs/en/observability/ingest-metrics.asciidoc">edit</a></h5>
<p>Metricbeat comes with predefined assets for parsing, indexing, and
visualizing your data. To load these assets:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Make sure the user specified in <code class="literal">metricbeat.yml</code> is authorized to set up <a href="https://www.elastic.co/guide/en/beats/metricbeat/master/privileges-to-setup-beats.html" class="ulink" target="_top">Metricbeat</a>.
</li>
<li class="listitem">
<p>From the installation directory, run:</p>
<div class="tabs" data-tab-group="os">
  <div role="tablist" aria-label="Set up">
    <button role="tab"
            aria-selected="true"
            aria-controls="deb-tab-setup"
            id="deb-setup">
      DEB
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="rpm-tab-setup"
            id="rpm-setup"
            tabindex="-1">
      RPM
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="mac-tab-setup"
            id="mac-setup"
            tabindex="-1">
      MacOS
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="linux-tab-setup"
            id="linux-setup"
            tabindex="-1">
      Linux
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="win-tab-setup"
            id="win-setup"
            tabindex="-1">
      Windows
    </button>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="deb-tab-setup"
       aria-labelledby="deb-setup">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">metricbeat setup -e</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="rpm-tab-setup"
       aria-labelledby="rpm-setup"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">metricbeat setup -e</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="mac-tab-setup"
       aria-labelledby="mac-setup"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">./metricbeat setup -e</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="linux-tab-setup"
       aria-labelledby="linux-setup"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">./metricbeat setup -e</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="win-tab-setup"
       aria-labelledby="win-setup"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">PS &gt; .\metricbeat.exe setup -e</pre>
</div>
  </div>
</div>
<p><code class="literal">-e</code> is optional and sends output to standard error instead of the configured log output.</p>
</li>
</ol>
</div>
<p>This step loads the recommended <a href="https://www.elastic.co/guide/en/elasticsearch/reference/master/indices-templates.html" class="ulink" target="_top">index template</a>
for writing to Elasticsearch and deploys the sample dashboards for visualizing the data in Kibana.</p>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>A connection to Elasticsearch (or Elasticsearch Service) is required to set up the initial environment.
If you’re using a different output, such as Logstash, see
<a href="https://www.elastic.co/guide/en/beats/metricbeat/master/metricbeat-template.html#load-template-manually" class="ulink" target="_top">Load the index template manually</a>
and <a href="https://www.elastic.co/guide/en/beats/metricbeat/master/load-kibana-dashboards.html" class="ulink" target="_top">Load Kibana dashboards</a>.</p>
</div>
</div>
<h5><a id="start-metricbeat"></a>Step 5: Start Metricbeat<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/master/docs/en/observability/ingest-metrics.asciidoc">edit</a></h5>
<p>Before starting Metricbeat, modify the user credentials in
<code class="literal">metricbeat.yml</code> and specify a user who is
<a href="https://www.elastic.co/guide/en/beats/metricbeat/master/privileges-to-publish-events.html" class="ulink" target="_top">authorized to publish events</a>.</p>
<p>To start Metricbeat, run:</p>
<div class="tabs" data-tab-group="os">
  <div role="tablist" aria-label="Start">
    <button role="tab"
            aria-selected="true"
            aria-controls="deb-tab-start"
            id="deb-start">
      DEB
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="rpm-tab-start"
            id="rpm-start"
            tabindex="-1">
      RPM
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="mac-tab-start"
            id="mac-start"
            tabindex="-1">
      MacOS
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="linux-tab-start"
            id="linux-start"
            tabindex="-1">
      Linux
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="win-tab-start"
            id="win-start"
            tabindex="-1">
      Windows
    </button>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="deb-tab-start"
       aria-labelledby="deb-start">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">sudo service metricbeat start</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>If you use an <code class="literal">init.d</code> script to start Metricbeat, you can&#8217;t specify command
line flags (see <a href="https://www.elastic.co/guide/en/beats/metricbeat/master/command-line-options.html" class="ulink" target="_top">Command reference</a>). To specify flags, start Metricbeat in
the foreground.</p>
</div>
</div>
<p>Also see <a href="https://www.elastic.co/guide/en/beats/metricbeat/master/running-with-systemd.html" class="ulink" target="_top">Metricbeat and systemd</a>.</p>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="rpm-tab-start"
       aria-labelledby="rpm-start"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">sudo service metricbeat start</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>If you use an <code class="literal">init.d</code> script to start Metricbeat, you can&#8217;t specify command
line flags (see <a href="https://www.elastic.co/guide/en/beats/metricbeat/master/command-line-options.html" class="ulink" target="_top">Command reference</a>). To specify flags, start Metricbeat in
the foreground.</p>
</div>
</div>
<p>Also see <a href="https://www.elastic.co/guide/en/beats/metricbeat/master/running-with-systemd.html" class="ulink" target="_top">Metricbeat and systemd</a>.</p>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="mac-tab-start"
       aria-labelledby="mac-start"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">sudo chown root metricbeat.yml <a id="CO13-1"></a><i class="conum" data-value="1"></i>
sudo chown root modules.d/nginx.yml <a id="CO13-2"></a><i class="conum" data-value="1"></i>
sudo ./metricbeat -e</pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO13-1"><i class="conum" data-value="1"></i></a><a href="#CO13-2"></a></p>
</td>
<td align="left" valign="top">
<p>You&#8217;ll be running Metricbeat as root, so you need to change ownership of the
configuration file and any configurations enabled in the <code class="literal">modules.d</code> directory,
or run Metricbeat with <code class="literal">--strict.perms=false</code> specified. See
<a href="https://www.elastic.co/guide/en/beats/libbeat/master/config-file-permissions.html" class="ulink" target="_top">Config File Ownership and Permissions</a>.</p>
</td>
</tr>
</table>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="linux-tab-start"
       aria-labelledby="linux-start"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">sudo chown root metricbeat.yml <a id="CO14-1"></a><i class="conum" data-value="1"></i>
sudo chown root modules.d/nginx.yml <a id="CO14-2"></a><i class="conum" data-value="1"></i>
sudo ./metricbeat -e</pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO14-1"><i class="conum" data-value="1"></i></a><a href="#CO14-2"></a></p>
</td>
<td align="left" valign="top">
<p>You&#8217;ll be running Metricbeat as root, so you need to change ownership of the
configuration file and any configurations enabled in the <code class="literal">modules.d</code> directory,
or run Metricbeat with <code class="literal">--strict.perms=false</code> specified. See
<a href="https://www.elastic.co/guide/en/beats/libbeat/master/config-file-permissions.html" class="ulink" target="_top">Config File Ownership and Permissions</a>.</p>
</td>
</tr>
</table>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="win-tab-start"
       aria-labelledby="win-start"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">PS C:\Program Files\metricbeat&gt; Start-Service metricbeat</pre>
</div>
<p>By default, Windows log files are stored in <code class="literal">C:\ProgramData\metricbeat\Logs</code>.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>On Windows, statistics about system load and swap usage are currently
not captured</p>
</div>
</div>
  </div>
</div>
<h5><a id="view-metrics-kibana"></a>Step 6: Confirm metrics are ingested<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/master/docs/en/observability/ingest-metrics.asciidoc">edit</a></h5>
<p>Let&#8217;s confirm your data is correctly ingested to your cluster.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>Launch Kibana:</p>
<div class="tabs" data-tab-group="host">
  <div role="tablist" aria-label="Open Kibana">
    <button role="tab"
            aria-selected="true"
            aria-controls="cloud-tab-open-kibana"
            id="cloud-open-kibana">
      Elasticsearch Service
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="self-managed-tab-open-kibana"
            id="self-managed-open-kibana"
            tabindex="-1">
      Self-managed
    </button>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="cloud-tab-open-kibana"
       aria-labelledby="cloud-open-kibana">
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<a href="https://cloud.elastic.co/" class="ulink" target="_top">Log in</a> to your Elastic Cloud account.
</li>
<li class="listitem">
Navigate to the Kibana endpoint in your deployment.
</li>
</ol>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="self-managed-tab-open-kibana"
       aria-labelledby="self-managed-open-kibana"
       hidden="">
<p>Point your browser to <a href="http://localhost:5601" class="ulink" target="_top">http://localhost:5601</a>, replacing
<code class="literal">localhost</code> with the name of the Kibana host.</p>
  </div>
</div>
</li>
<li class="listitem">
Open the main menu, then click <span class="strong strong"><strong>Discover</strong></span>
</li>
<li class="listitem">
<p>Select <code class="literal">metricbeat-*</code> as your data view.</p>
<p>Each document in the index that matches the <code class="literal">metricbeat-*</code> data view
is displayed. By default, <span class="strong strong"><strong>Discover</strong></span> shows data for the last 15 minutes.</p>
</li>
</ol>
</div>
<p>Now let&#8217;s have a look at the <a class="xref" href="analyze-metrics.html" title="Infrastructure monitoring">Infrastructure app</a>.</p>
</div>

<div class="chapter xpack">
<div class="titlepage"><div><div>
<h3 class="title"><a id="ingest-uptime"></a>Ingest uptime data with Heartbeat<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/master/docs/en/observability/ingest-uptime.asciidoc">edit</a></h3>
</div></div></div>

<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>If you haven&#8217;t already, you need to install Elasticsearch for storing and searching your data, and Kibana for visualizing and
managing it. For more information, see <a class="xref" href="spin-up-stack.html" title="Spin up the Elastic Stack">Spin up the Elastic Stack</a>.</p>
</div>
</div>
<p>Install and configure Heartbeat on your servers to periodically check the status of your
services. Heartbeat uses probing to monitor the availability of services and helps
verify that you’re meeting your service level agreements for service uptime.
You typically install Heartbeat as part of a monitoring service that runs on a separate machine
and possibly even outside of the network where the services that you want to monitor are running.</p>
<h5><a id="deployment-considerations"></a>Deployment considerations<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/master/docs/en/observability/ingest-uptime.asciidoc">edit</a></h5>
<p>There are multiple ways to deploy Uptime and Heartbeat. A guiding principle is that when
an outage takes down the service being monitored, it should not take down Heartbeat.</p>
<p>Heartbeat is commonly run as a centralized service within a data center.
While it&#8217;s possible to run it as a separate "sidecar" process paired with each process/container,
we recommend against it. Running Heartbeat centrally ensures you will still be able to see
monitoring data in the event of an overloaded, disconnected, or otherwise malfunctioning server.</p>
<p>For further redundancy, you may want to deploy multiple instances of Heartbeat across geographic and network boundaries
to provide more data.</p>
<p>For example:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p>A site served from a content delivery network (CDN) with points of presence (POPs) around the globe.</p>
<p>To check if your site is reachable via CDN POPS, deploy multiple Heartbeat instances at
different data centers around the world.</p>
</li>
<li class="listitem">
<p>A service within a single data center that is accessed across multiple VPNs.</p>
<p>Set up one Heartbeat instance within the VPN the service operates from, and another within an additional
VPN that users access the service from. In the event of an outage, having both instances helps pinpoint
the network errors.</p>
</li>
<li class="listitem">
<p>A single service running primarily in a US east coast data center, with a hot failover located in
a US west coast data center.</p>
<p>In each data center, run a Heartbeat instance that checks both the local
copy of the service and its counterpart across the country. Set up two monitors in each region, one for
the local service, and one for the remote service. In the event of a data center failure, it will be
immediately apparent if the service has a connectivity issue to the outside world, or if the failure is only internal.</p>
</li>
</ul>
</div>
<h5><a id="install-heartbeat"></a>Step 1: Install Heartbeat<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/master/docs/en/observability/ingest-uptime.asciidoc">edit</a></h5>
<p>You typically install Heartbeat as part of a monitoring service that runs on a separate machine
and possibly even outside of the network where the services that you want to monitor are running.</p>
<p>To download and install Heartbeat, use the commands that work with your system:</p>
<div class="tabs" data-tab-group="os">
  <div role="tablist" aria-label="Install">
    <button role="tab"
            aria-selected="true"
            aria-controls="deb-tab-install"
            id="deb-install">
      DEB
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="rpm-tab-install"
            id="rpm-install"
            tabindex="-1">
      RPM
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="mac-tab-install"
            id="mac-install"
            tabindex="-1">
      MacOS
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="linux-tab-install"
            id="linux-install"
            tabindex="-1">
      Linux
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="win-tab-install"
            id="win-install"
            tabindex="-1">
      Windows
    </button>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="deb-tab-install"
       aria-labelledby="deb-install">
<p>Version 8.7.0 of Heartbeat has not yet been released.</p>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="rpm-tab-install"
       aria-labelledby="rpm-install"
       hidden="">
<p>Version 8.7.0 of Heartbeat has not yet been released.</p>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="mac-tab-install"
       aria-labelledby="mac-install"
       hidden="">
<p>Version 8.7.0 of Heartbeat has not yet been released.</p>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="linux-tab-install"
       aria-labelledby="linux-install"
       hidden="">
<p>Version 8.7.0 of Heartbeat has not yet been released.</p>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="win-tab-install"
       aria-labelledby="win-install"
       hidden="">
<p>Version 8.7.0 of Heartbeat has not yet been released.</p>
  </div>
</div>
<h6><a id="other-heartbeat-installations"></a>Other installation options<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/master/docs/en/observability/ingest-uptime.asciidoc">edit</a></h6>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="https://www.elastic.co/guide/en/beats/heartbeat/master/running-on-docker.html" class="ulink" target="_top">Docker</a>
</li>
<li class="listitem">
<a href="https://www.elastic.co/guide/en/beats/heartbeat/master/setup-repositories.html" class="ulink" target="_top">APT or YUM</a>
</li>
<li class="listitem">
<a href="https://www.elastic.co/downloads/beats/heartbeat" class="ulink" target="_top">Download page</a>
</li>
</ul>
</div>
<h5><a id="uptime-connect-to-stack"></a>Step 2: Connect to Elasticsearch and Kibana<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/master/docs/en/observability/ingest-uptime.asciidoc">edit</a></h5>
<p>Connections to Elasticsearch and Kibana are required to set up Heartbeat.</p>
<p>Set the connection information in <code class="literal">heartbeat.yml</code>. To locate this configuration file,
see <a href="https://www.elastic.co/guide/en/beats/heartbeat/master/directory-layout.html" class="ulink" target="_top">Directory layout</a>.</p>
<div class="tabs" data-tab-group="host">
  <div role="tablist" aria-label="Set connection">
    <button role="tab"
            aria-selected="true"
            aria-controls="cloud-tab-set-connection"
            id="cloud-set-connection">
      Elasticsearch Service
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="self-managed-tab-set-connection"
            id="self-managed-set-connection"
            tabindex="-1">
      Self-managed
    </button>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="cloud-tab-set-connection"
       aria-labelledby="cloud-set-connection">
<p>Specify the <a href="https://www.elastic.co/guide/en/beats/heartbeat/master/configure-cloud-id.html" class="ulink" target="_top">cloud.id</a> of your Elasticsearch Service, and set
<a href="https://www.elastic.co/guide/en/beats/heartbeat/master/configure-cloud-id.html" class="ulink" target="_top">cloud.auth</a> to a user who is authorized to
set up Heartbeat. For example:</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">cloud.id: "staging:dXMtZWFzdC0xLmF3cy5mb3VuZC5pbyRjZWM2ZjI2MWE3NGJmMjRjZTMzYmI4ODExYjg0Mjk0ZiRjNmMyY2E2ZDA0MjI0OWFmMGNjN2Q3YTllOTYyNTc0Mw=="
cloud.auth: "heartbeat_setup:YOUR_PASSWORD" <a id="CO15-1"></a><i class="conum" data-value="1"></i></pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO15-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>This examples shows a hard-coded password, but you should store sensitive
values
in the <a href="https://www.elastic.co/guide/en/beats/heartbeat/master/keystore.html" class="ulink" target="_top">secrets keystore</a>.</p>
</td>
</tr>
</table>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="self-managed-tab-set-connection"
       aria-labelledby="self-managed-set-connection"
       hidden="">
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>Set the host and port where Heartbeat can find the Elasticsearch installation, and
set the username and password of a user who is authorized to set up
Heartbeat. For example:</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">output.elasticsearch:
  hosts: ["https://myEShost:9200"]
  username: "heartbeat_internal"
  password: "YOUR_PASSWORD" <a id="CO16-1"></a><i class="conum" data-value="1"></i>
  ssl:
    enabled: true
    ca_trusted_fingerprint: "b9a10bbe64ee9826abeda6546fc988c8bf798b41957c33d05db736716513dc9c" <a id="CO16-2"></a><i class="conum" data-value="2"></i></pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO16-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>This example shows a hard-coded password, but you should store sensitive
values
in the <a href="https://www.elastic.co/guide/en/beats/heartbeat/master/keystore.html" class="ulink" target="_top">secrets keystore</a>.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO16-2"><i class="conum" data-value="2"></i></a></p>
</td>
<td align="left" valign="top">
<p>This example shows a hard-coded fingerprint, but you should store sensitive
values
in the <a href="https://www.elastic.co/guide/en/beats/heartbeat/master/keystore.html" class="ulink" target="_top">secrets keystore</a>.
The fingerprint is a HEX encoded SHA-256 of a CA certificate,
when you start Elasticsearch for the first time, security features such as
network encryption (TLS) for Elasticsearch are enabled by default. If you are
using the self-signed certificate generated by Elasticsearch when it is started
for the first time, you will need to add its fingerprint here. The
fingerprint is printed on Elasticsearch start up logs, or you can refer to <a href="https://www.elastic.co/guide/en/elasticsearch/reference/8.0/configuring-stack-security.html#_connect_clients_to_elasticsearch_5" class="ulink" target="_top">connect clients to Elasticsearch
documentation</a> for other options on retrieving it. If you are
providing your own SSL certificate to Elasticsearch refer to
<a href="https://www.elastic.co/guide/en/beats/heartbeat/master/configuration-ssl.html#ssl-client-config" class="ulink" target="_top">Heartbeat
documentation on how to setup SSL</a>.</p>
</td>
</tr>
</table>
</div>
</li>
<li class="listitem">
<p>If you plan to use our pre-built Kibana dashboards, configure the Kibana
endpoint. Skip this step if Kibana is running on the same host as Elasticsearch.</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">  setup.kibana:
    host: "mykibanahost:5601" <a id="CO17-1"></a><i class="conum" data-value="1"></i>
    username: "my_kibana_user" <a id="CO17-2"></a><i class="conum" data-value="2"></i> <a id="CO17-3"></a><i class="conum" data-value="3"></i>
    password: "{pwd}"</pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO17-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>The hostname and port of the machine where Kibana is running,
for example, <code class="literal">mykibanahost:5601</code>. If you specify a path after the port number,
include the scheme and port: <code class="literal">http://mykibanahost:5601/path</code>.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO17-2"><i class="conum" data-value="2"></i></a></p>
</td>
<td align="left" valign="top">
<p>The <code class="literal">username</code> and <code class="literal">password</code> settings for Kibana are optional. If you don&#8217;t
specify credentials for Kibana, Heartbeat uses the <code class="literal">username</code> and <code class="literal">password</code>
specified for the Elasticsearch output.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO17-3"><i class="conum" data-value="3"></i></a></p>
</td>
<td align="left" valign="top">
<p>To use the pre-built Kibana dashboards, this user must be authorized to
view dashboards or have the
<code class="literal">kibana_admin</code> <a href="https://www.elastic.co/guide/en/elasticsearch/reference/master/built-in-roles.html" class="ulink" target="_top">built-in role</a>.</p>
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
  </div>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>You can send data to other <a href="https://www.elastic.co/guide/en/beats/heartbeat/master/configuring-output.html" class="ulink" target="_top">outputs</a>, such as Logstash,
but that requires additional configuration and setup.</p>
</div>
</div>
<p>To learn more about required roles and privileges, see <a href="https://www.elastic.co/guide/en/beats/heartbeat/master/feature-roles.html" class="ulink" target="_top">Grant users access to secured resources</a>.</p>
<h5><a id="heartbeat-configuration"></a>Step 3: Configure Heartbeat monitors<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/master/docs/en/observability/ingest-uptime.asciidoc">edit</a></h5>
<p>Heartbeat provides monitors to check the status of hosts at set intervals.
Heartbeat currently provides monitors for ICMP, TCP, and HTTP (see
<a href="https://www.elastic.co/guide/en/beats/heartbeat/master/heartbeat-overview.html" class="ulink" target="_top">Heartbeat overview</a> for more about these monitors).</p>
<p>You configure each monitor individually. In <code class="literal">heartbeat.yml</code>, specify the
list of monitors that you want to enable. Each item in the list begins with a
dash (-). The following example configures Heartbeat to use two monitors, an
<code class="literal">icmp</code> monitor and a <code class="literal">tcp</code> monitor:</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">heartbeat.monitors:
- type: icmp
  schedule: '*/5 * * * * * *' <a id="CO18-1"></a><i class="conum" data-value="1"></i>
  hosts: ["myhost"]
- type: tcp
  schedule: '@every 5s' <a id="CO18-2"></a><i class="conum" data-value="2"></i>
  hosts: ["myhost:12345"]
  mode: any <a id="CO18-3"></a><i class="conum" data-value="3"></i></pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO18-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>The <code class="literal">icmp</code> monitor is scheduled to run exactly every 5 seconds (10:00:00,
10:00:05, and so on). The <code class="literal">schedule</code> option uses a cron-like syntax based on
<a href="https://github.com/gorhill/cronexpr#implementation" class="ulink" target="_top">this <code class="literal">cronexpr</code> implementation</a>.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO18-2"><i class="conum" data-value="2"></i></a></p>
</td>
<td align="left" valign="top">
<p>The <code class="literal">tcp</code> monitor is set to run every 5 seconds from the time when Heartbeat
was started. Heartbeat adds the <code class="literal">@every</code> keyword to the syntax provided by the
<code class="literal">cronexpr</code> package.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO18-3"><i class="conum" data-value="3"></i></a></p>
</td>
<td align="left" valign="top">
<p>The <code class="literal">mode</code> specifies whether to ping one IP (<code class="literal">any</code>) or all resolvable IPs
(<code class="literal">all</code>).</p>
</td>
</tr>
</table>
</div>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>To test your configuration file, change to the directory where the Heartbeat binary
is installed, and run Heartbeat in the foreground with the following options specified:
<code class="literal">./heartbeat test config -e</code>. Make sure your config files are in the path expected by
Heartbeat (see <a href="https://www.elastic.co/guide/en/beats/heartbeat/master/directory-layout.html" class="ulink" target="_top">Directory layout</a>), or use the
<code class="literal">-c</code> flag to specify the path to the config file.</p>
</div>
</div>
<p>For more information about configuring Heartbeat, also see:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="https://www.elastic.co/guide/en/beats/heartbeat/master/configuring-howto-heartbeat.html" class="ulink" target="_top">Configure Heartbeat</a>
</li>
<li class="listitem">
<a href="https://www.elastic.co/guide/en/beats/libbeat/master/config-file-format.html" class="ulink" target="_top">Config file format</a>
</li>
<li class="listitem">
<a href="https://www.elastic.co/guide/en/beats/heartbeat/master/heartbeat-reference-yml.html" class="ulink" target="_top"><code class="literal">heartbeat.reference.yml</code></a>: This
reference configuration file shows all non-deprecated options. You’ll find it in the same location as <code class="literal">heartbeat.yml</code>.
</li>
</ul>
</div>
<h5><a id="configure-heartbeat-location"></a>Step 4: Configure Heartbeat location<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/master/docs/en/observability/ingest-uptime.asciidoc">edit</a></h5>
<p>Heartbeat can be deployed in multiple locations so that you can detect
differences in availability and response times across those locations.
Configure the Heartbeat location to allow Kibana to display location-specific
information on Uptime maps and perform Uptime anomaly detection based
on location.</p>
<p>To configure the location of a Heartbeat instance, modify the
<code class="literal">add_observer_metadata</code> processor in <code class="literal">heartbeat.yml</code>.  The following
example specifies the <code class="literal">geo.name</code> of the <code class="literal">add_observer_metadata</code> processor as
<code class="literal">us-east-1a</code>:</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml"># ============================ Processors ============================

processors:
  - add_observer_metadata:
      # Optional, but recommended geo settings for the location Heartbeat is running in
      geo: <a id="CO19-1"></a><i class="conum" data-value="1"></i>
        # Token describing this location
        name: us-east-1a <a id="CO19-2"></a><i class="conum" data-value="2"></i>
        # Lat, Lon "
        #location: "37.926868, -78.024902" <a id="CO19-3"></a><i class="conum" data-value="3"></i></pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO19-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>Uncomment the <code class="literal">geo</code> setting.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO19-2"><i class="conum" data-value="2"></i></a></p>
</td>
<td align="left" valign="top">
<p>Uncomment <code class="literal">name</code> and assign the name of the location of the Heartbeat server.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO19-3"><i class="conum" data-value="3"></i></a></p>
</td>
<td align="left" valign="top">
<p>Optionally uncomment <code class="literal">location</code> and assign the latitude and longitude.</p>
</td>
</tr>
</table>
</div>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>To test your configuration file, change to the directory where the Heartbeat binary
is installed, and run Heartbeat in the foreground with the following options specified:
<code class="literal">./heartbeat test config -e</code>. Make sure your config files are in the path expected by
Heartbeat (see <a href="https://www.elastic.co/guide/en/beats/heartbeat/master/directory-layout.html" class="ulink" target="_top">Directory layout</a>), or use the
<code class="literal">-c</code> flag to specify the path to the config file.</p>
</div>
</div>
<h5><a id="set-heartbeat-assets"></a>Step 5: Set up assets<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/master/docs/en/observability/ingest-uptime.asciidoc">edit</a></h5>
<p>Heartbeat comes with predefined assets for parsing, indexing, and
visualizing your data. To load these assets:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Make sure the user specified in <code class="literal">heartbeat.yml</code> is
<a href="https://www.elastic.co/guide/en/beats/heartbeat/master/privileges-to-setup-beats.html" class="ulink" target="_top">authorized to set up Heartbeat</a>.
</li>
<li class="listitem">
<p>From the installation directory, run:</p>
<div class="tabs" data-tab-group="os">
  <div role="tablist" aria-label="Set up">
    <button role="tab"
            aria-selected="true"
            aria-controls="deb-tab-setup"
            id="deb-setup">
      DEB
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="rpm-tab-setup"
            id="rpm-setup"
            tabindex="-1">
      RPM
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="mac-tab-setup"
            id="mac-setup"
            tabindex="-1">
      MacOS
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="linux-tab-setup"
            id="linux-setup"
            tabindex="-1">
      Linux
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="win-tab-setup"
            id="win-setup"
            tabindex="-1">
      Windows
    </button>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="deb-tab-setup"
       aria-labelledby="deb-setup">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">heartbeat setup -e</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="rpm-tab-setup"
       aria-labelledby="rpm-setup"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">heartbeat setup -e</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="mac-tab-setup"
       aria-labelledby="mac-setup"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">./heartbeat setup -e</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="linux-tab-setup"
       aria-labelledby="linux-setup"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">./heartbeat setup -e</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="win-tab-setup"
       aria-labelledby="win-setup"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">PS &gt; .\heartbeat.exe setup -e</pre>
</div>
  </div>
</div>
<p><code class="literal">-e</code> is optional and sends output to standard error instead of the configured log output.</p>
</li>
</ol>
</div>
<p>This step loads the recommended <a href="https://www.elastic.co/guide/en/elasticsearch/reference/master/indices-templates.html" class="ulink" target="_top">index template</a> for writing to Elasticsearch.
It does not install Heartbeat dashboards. Heartbeat dashboards and
installation steps are available in the
<a href="https://github.com/elastic/uptime-contrib" class="ulink" target="_top">uptime-contrib</a> GitHub repository.</p>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>A connection to Elasticsearch (or Elasticsearch Service) is required to set up the initial
environment. If you&#8217;re using a different output, such as Logstash, see
<a href="https://www.elastic.co/guide/en/beats/heartbeat/master/heartbeat-template.html#load-template-manually" class="ulink" target="_top">Load the index template manually</a>.</p>
</div>
</div>
<h5><a id="start-heartbeat"></a>Step 6: Start Heartbeat<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/master/docs/en/observability/ingest-uptime.asciidoc">edit</a></h5>
<p>Before starting Heartbeat, modify the user credentials in
<code class="literal">heartbeat.yml</code> and specify a user who is
<a href="https://www.elastic.co/guide/en/beats/heartbeat/master/privileges-to-publish-events.html" class="ulink" target="_top">authorized to publish events</a>.</p>
<p>To start Heartbeat, run:</p>
<div class="tabs" data-tab-group="os">
  <div role="tablist" aria-label="Start">
    <button role="tab"
            aria-selected="true"
            aria-controls="deb-tab-start"
            id="deb-start">
      DEB
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="rpm-tab-start"
            id="rpm-start"
            tabindex="-1">
      RPM
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="mac-tab-start"
            id="mac-start"
            tabindex="-1">
      MacOS
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="linux-tab-start"
            id="linux-start"
            tabindex="-1">
      Linux
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="win-tab-start"
            id="win-start"
            tabindex="-1">
      Windows
    </button>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="deb-tab-start"
       aria-labelledby="deb-start">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">sudo service heartbeat-elastic start</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>If you use an <code class="literal">init.d</code> script to start Heartbeat, you can&#8217;t specify command
line flags (see <a href="https://www.elastic.co/guide/en/beats/heartbeat/master/command-line-options.html" class="ulink" target="_top">Command reference</a>). To specify flags, start Heartbeat in
the foreground.</p>
</div>
</div>
<p>Also see <a href="https://www.elastic.co/guide/en/beats/heartbeat/master/running-with-systemd.html" class="ulink" target="_top">Heartbeat and systemd</a>.</p>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="rpm-tab-start"
       aria-labelledby="rpm-start"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">sudo service heartbeat-elastic start</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>If you use an <code class="literal">init.d</code> script to start Heartbeat, you can&#8217;t specify command
line flags (see <a href="https://www.elastic.co/guide/en/beats/heartbeat/master/command-line-options.html" class="ulink" target="_top">Command reference</a>). To specify flags, start Heartbeat in
the foreground.</p>
</div>
</div>
<p>Also see <a href="https://www.elastic.co/guide/en/beats/heartbeat/master/running-with-systemd.html" class="ulink" target="_top">Heartbeat and systemd</a>.</p>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="mac-tab-start"
       aria-labelledby="mac-start"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">sudo chown root heartbeat.yml <a id="CO20-1"></a><i class="conum" data-value="1"></i>
sudo ./heartbeat -e</pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO20-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>You&#8217;ll be running Heartbeat as root, so you need to change ownership
of the configuration file, or run Heartbeat with <code class="literal">--strict.perms=false</code>
specified. See
<a href="https://www.elastic.co/guide/en/beats/libbeat/master/config-file-permissions.html" class="ulink" target="_top">Config File Ownership and Permissions</a>.</p>
</td>
</tr>
</table>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="linux-tab-start"
       aria-labelledby="linux-start"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">sudo chown root heartbeat.yml <a id="CO21-1"></a><i class="conum" data-value="1"></i>
sudo ./heartbeat -e</pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO21-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>You&#8217;ll be running Heartbeat as root, so you need to change ownership
of the configuration file, or run Heartbeat with <code class="literal">--strict.perms=false</code>
specified. See
<a href="https://www.elastic.co/guide/en/beats/libbeat/master/config-file-permissions.html" class="ulink" target="_top">Config File Ownership and Permissions</a>.</p>
</td>
</tr>
</table>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="win-tab-start"
       aria-labelledby="win-start"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">PS C:\Program Files\heartbeat&gt; Start-Service heartbeat</pre>
</div>
<p>By default, Windows log files are stored in <code class="literal">C:\ProgramData\heartbeat\Logs</code>.</p>
  </div>
</div>
<p>Heartbeat is now ready to check the status of your services and send events to your defined output.</p>
<h5><a id="view-uptime-kibana"></a>Step 7: View your data in Kibana<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/master/docs/en/observability/ingest-uptime.asciidoc">edit</a></h5>
<p>Let&#8217;s confirm your data is correctly ingested to your cluster.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>Launch Kibana:</p>
<div class="tabs" data-tab-group="host">
  <div role="tablist" aria-label="Open Kibana">
    <button role="tab"
            aria-selected="true"
            aria-controls="cloud-tab-open-kibana"
            id="cloud-open-kibana">
      Elasticsearch Service
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="self-managed-tab-open-kibana"
            id="self-managed-open-kibana"
            tabindex="-1">
      Self-managed
    </button>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="cloud-tab-open-kibana"
       aria-labelledby="cloud-open-kibana">
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<a href="https://cloud.elastic.co/" class="ulink" target="_top">Log in</a> to your Elastic Cloud account.
</li>
<li class="listitem">
Navigate to the Kibana endpoint in your deployment.
</li>
</ol>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="self-managed-tab-open-kibana"
       aria-labelledby="self-managed-open-kibana"
       hidden="">
<p>Point your browser to <a href="http://localhost:5601" class="ulink" target="_top">http://localhost:5601</a>, replacing
<code class="literal">localhost</code> with the name of the Kibana host.</p>
  </div>
</div>
</li>
<li class="listitem">
In the side navigation, click <span class="strong strong"><strong>Observability &gt; Uptime</strong></span>.
</li>
</ol>
</div>
<p>Now let&#8217;s have a look at the <a class="xref" href="monitor-uptime-synthetics.html" title="Synthetic monitoring">Uptime app</a>.</p>
</div>

<div class="chapter xpack">
<div class="titlepage"><div><div>
<h3 class="title"><a id="instrument-apps"></a>Instrument applications with APM<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/master/docs/en/observability/instrument-apps.asciidoc">edit</a></h3>
</div></div></div>

<p>Elastic APM monitors software services and applications in real time, collects unhandled
errors and exceptions, and automatically picks up basic host-level metrics and agent specific metrics.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>If you haven’t already, you need to install Elasticsearch for storing and searching your data, Kibana for
visualizing and managing it, and APM Server. For more information, see <a class="xref" href="spin-up-stack.html" title="Spin up the Elastic Stack">Spin up the Elastic Stack</a>.</p>
</div>
</div>
<h5><a id="install-apm-agents"></a>Step 1: Install APM agents<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/master/docs/en/observability/instrument-apps.asciidoc">edit</a></h5>
<div class="tabs" data-tab-group="apm-agent">
  <div role="tablist" aria-label="Install">
    <button role="tab"
            aria-selected="false"
            aria-controls="go-tab-install"
            id="go-install">
      Go
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="ios-tab-install"
            id="ios-install"
            tabindex="-1">
      iOS
    </button>
    <button role="tab"
            aria-selected="true"
            aria-controls="java-tab-install"
            id="java-install"
            tabindex="-1">
      Java
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="net-tab-install"
            id="net-install"
            tabindex="-1">
      .NET
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="node-tab-install"
            id="node-install"
            tabindex="-1">
      Node.js
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="php-tab-install"
            id="php-install"
            tabindex="-1">
      PHP
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="python-tab-install"
            id="python-install"
            tabindex="-1">
      Python
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="ruby-tab-install"
            id="ruby-install"
            tabindex="-1">
      Ruby
    </button>
    <button role="tab"
        aria-selected="false"
        aria-controls="rum-tab-install"
        id="rum-install"
        tabindex="-1">
      RUM
    </button>
    <button role="tab"
        aria-selected="false"
        aria-controls="otel-tab-install"
        id="otel-install"
        tabindex="-1">
      OpenTelemetry
    </button>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="go-tab-install"
       aria-labelledby="go-install"
       hidden="">
<p><span class="strong strong"><strong>Install the agent</strong></span></p>
<p>Install the APM agent packages for Go.</p>
<div class="pre_wrapper lang-go">
<pre class="programlisting prettyprint lang-go">go get go.elastic.co/apm</pre>
</div>
<p><span class="strong strong"><strong>Configure the agent</strong></span></p>
<p>Agents are libraries that run inside of your application process.
APM services are created programmatically based on the executable file name, or the <code class="literal">ELASTIC_APM_SERVICE_NAME</code> environment variable.</p>
<div class="pre_wrapper lang-go">
<pre class="programlisting prettyprint lang-go"># Initialize using environment variables:

# Set the service name. Allowed characters: a-z, A-Z, 0-9, -, _, and space.
# If ELASTIC_APM_SERVICE_NAME is not specified, the executable name will be used.
export ELASTIC_APM_SERVICE_NAME=

# Set custom APM Server URL. Default: http://localhost:8200.
export ELASTIC_APM_SERVER_URL=

# Use if APM Server requires a token
export ELASTIC_APM_SECRET_TOKEN=</pre>
</div>
<p><span class="strong strong"><strong>Instrument your application</strong></span></p>
<p>Instrument your Go application by using one of the provided instrumentation modules or by using the tracer API directly.</p>
<div class="pre_wrapper lang-go">
<pre class="programlisting prettyprint lang-go">import (
	"net/http"

	"go.elastic.co/apm/module/apmhttp"
)

func main() {
	mux := http.NewServeMux()
	...
	http.ListenAndServe(":8080", apmhttp.Wrap(mux))
}</pre>
</div>
<p><span class="strong strong"><strong>Learn more in the agent reference</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="https://www.elastic.co/guide/en/apm/agent/go/2.x/supported-tech.html" class="ulink" target="_top">Supported technologies</a>
</li>
<li class="listitem">
<a href="https://www.elastic.co/guide/en/apm/agent/go/2.x/configuration.html" class="ulink" target="_top">Advanced configuration</a>
</li>
<li class="listitem">
<a href="https://www.elastic.co/guide/en/apm/agent/go/2.x/getting-started.html" class="ulink" target="_top">Detailed guide to instrumenting Go source code</a>
</li>
</ul>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="ios-tab-install"
       aria-labelledby="ios-install"
       hidden="">
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>This functionality is in technical preview and may be changed or removed in a future release. Elastic will apply best effort to fix any issues, but features in technical preview are not subject to the support SLA of official GA features.</p>
</div>
</div>
<p><span class="strong strong"><strong>Add the agent dependency to your project</strong></span></p>
<p>Add the Elastic APM iOS Agent as a
<a href="https://developer.apple.com/documentation/swift_packages/adding_package_dependencies_to_your_app" class="ulink" target="_top">package dependency</a>
to your Xcode project or your <code class="literal">Package.swift</code>:</p>
<div class="pre_wrapper lang-swift">
<pre class="programlisting prettyprint lang-swift">Package(
    dependencies:[
        .package(name: "iOSAgent", url: "git@github.com:elastic/apm-agent-ios.git", .branch("main")),
    ],
  targets:[
    .target(
        name: "MyApp",
        dependencies: [
            .product(name: "iOSAgent", package: "iOSAgent")
        ]
    ),
])</pre>
</div>
<p><span class="strong strong"><strong>Initialize the agent</strong></span></p>
<p>If you&#8217;re using <code class="literal">SwiftUI</code> to build your app, add the following to <code class="literal">App.swift</code>:</p>
<div class="pre_wrapper lang-swift">
<pre class="programlisting prettyprint lang-swift">import SwiftUI
import iOSAgent

@main
struct MyApp: App {
    init() {
        var config = AgentConfiguration()
        config.collectorAddress = "127.0.0.1" <a id="CO22-1"></a><i class="conum" data-value="1"></i>
        config.collectorPort = 8200 <a id="CO22-2"></a><i class="conum" data-value="2"></i>
        config.collectorTLS = false <a id="CO22-3"></a><i class="conum" data-value="3"></i>
        config.secretToken = "&lt;secret token&gt;" <a id="CO22-4"></a><i class="conum" data-value="4"></i>
        Agent.start(with: config)
    }
    var body: some Scene {
        WindowGroup {
            ContentView()
        }
    }
}</pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO22-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>APM Server URL or IP address</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO22-2"><i class="conum" data-value="2"></i></a></p>
</td>
<td align="left" valign="top">
<p>APM Server port number</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO22-3"><i class="conum" data-value="3"></i></a></p>
</td>
<td align="left" valign="top">
<p>Enable TLS for Open telemetry exporters</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO22-4"><i class="conum" data-value="4"></i></a></p>
</td>
<td align="left" valign="top">
<p>Set secret token for APM server connection</p>
</td>
</tr>
</table>
</div>
<p>If you&#8217;re not using <code class="literal">SwiftUI</code>, you can add the same thing to your <code class="literal">AppDelegate</code> file:</p>
<p><code class="literal">AppDelegate.swift</code></p>
<div class="pre_wrapper lang-swift">
<pre class="programlisting prettyprint lang-swift">import UIKit
import iOSAgent
@main
class AppDelegate: UIResponder, UIApplicationDelegate {
    func application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]?) -&gt; Bool {
        var config = AgentConfiguration()
        config.collectorAddress = "127.0.0.1" <a id="CO23-1"></a><i class="conum" data-value="1"></i>
        config.collectorPort = 8200 <a id="CO23-2"></a><i class="conum" data-value="2"></i>
        config.collectorTLS = false <a id="CO23-3"></a><i class="conum" data-value="3"></i>
        config.secretToken = "&lt;secret token&gt;" <a id="CO23-4"></a><i class="conum" data-value="4"></i>
        Agent.start(with: config)
        return true
    }
}</pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO23-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>APM Server URL or IP address</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO23-2"><i class="conum" data-value="2"></i></a></p>
</td>
<td align="left" valign="top">
<p>APM Server port number</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO23-3"><i class="conum" data-value="3"></i></a></p>
</td>
<td align="left" valign="top">
<p>Enable TLS for Open telemetry exporters</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO23-4"><i class="conum" data-value="4"></i></a></p>
</td>
<td align="left" valign="top">
<p>Set secret token for APM server connection</p>
</td>
</tr>
</table>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="java-tab-install"
       aria-labelledby="java-install">
<p><span class="strong strong"><strong>Download the APM agent</strong></span></p>
<p>Download the agent jar from <a href="http://search.maven.org/#search%7Cga%7C1%7Ca%3Aelastic-apm-agent" class="ulink" target="_top">Maven Central</a>.
Do not add the agent as a dependency to your application.</p>
<p><span class="strong strong"><strong>Start your application with the <code class="literal">javaagent</code> flag</strong></span></p>
<p>Add the <code class="literal">-javaagent</code> flag and configure the agent with system properties.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Set required service name
</li>
<li class="listitem">
Set custom APM Server URL (default: <a href="http://localhost:8200" class="ulink" target="_top">http://localhost:8200</a>)
</li>
<li class="listitem">
Set the base package of your application
</li>
</ul>
</div>
<div class="pre_wrapper lang-java">
<pre class="programlisting prettyprint lang-java">java -javaagent:/path/to/elastic-apm-agent-&lt;version&gt;.jar \
     -Delastic.apm.service_name=my-application \
     -Delastic.apm.server_urls=http://localhost:8200 \
     -Delastic.apm.secret_token= \
     -Delastic.apm.application_packages=org.example \
     -jar my-application.jar</pre>
</div>
<p><span class="strong strong"><strong>Learn more in the agent reference</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="https://www.elastic.co/guide/en/apm/agent/java/1.x/supported-technologies-details.html" class="ulink" target="_top">Supported technologies</a>
</li>
<li class="listitem">
<a href="https://www.elastic.co/guide/en/apm/agent/java/1.x/configuration.html" class="ulink" target="_top">Advanced configuration</a>
</li>
</ul>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="net-tab-install"
       aria-labelledby="net-install"
       hidden="">
<p><span class="strong strong"><strong>Download the APM agent</strong></span></p>
<p>Add the agent packages from <a href="https://www.nuget.org/packages?q=Elastic.apm" class="ulink" target="_top">NuGet</a> to your .NET application.
There are multiple NuGet packages available for different use cases.</p>
<p>For an ASP.NET Core application with Entity Framework Core, download the
<a href="https://www.nuget.org/packages/Elastic.Apm.NetCoreAll" class="ulink" target="_top">Elastic.Apm.NetCoreAll</a> package.
This package will automatically add every agent component to your application.</p>
<p>To minimize the number of dependencies, you can use the
<a href="https://www.nuget.org/packages/Elastic.Apm.AspNetCore" class="ulink" target="_top">Elastic.Apm.AspNetCore</a> package for just ASP.NET Core monitoring, or the
<a href="https://www.nuget.org/packages/Elastic.Apm.EntityFrameworkCore" class="ulink" target="_top">Elastic.Apm.EfCore</a> package for just Entity Framework Core monitoring.</p>
<p>If you only want to use the public agent API for manual instrumentation, use the
<a href="https://www.nuget.org/packages/Elastic.Apm" class="ulink" target="_top">Elastic.Apm</a> package.</p>
<p><span class="strong strong"><strong>Add the agent to the application</strong></span></p>
<p>For an ASP.NET Core application with the <code class="literal">Elastic.Apm.NetCoreAll</code> package,
call the <code class="literal">UseAllElasticApm</code> method in the <code class="literal">Configure</code> method within the <code class="literal">Startup.cs</code> file:</p>
<div class="pre_wrapper lang-dotnet">
<pre class="programlisting prettyprint lang-dotnet">public class Startup
{
  public void Configure(IApplicationBuilder app, IHostingEnvironment env)
  {
    app.UseAllElasticApm(Configuration);
    //…rest of the method
  }
  //…rest of the class
}</pre>
</div>
<p>Passing an <code class="literal">IConfiguration</code> instance is optional and by doing so,
the agent will read config settings through this <code class="literal">IConfiguration</code> instance, for example,
from the <code class="literal">appsettings.json</code> file:</p>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json">{
    "ElasticApm": {
    "SecretToken": "",
    "ServerUrls": "http://localhost:8200", //Set custom APM Server URL (default: http://localhost:8200)
    "ServiceName" : "MyApp", //allowed characters: a-z, A-Z, 0-9, -, _, and space. Default is the entry assembly of the application
  }
}</pre>
</div>
<p>If you don’t pass an <code class="literal">IConfiguration</code> instance to the agent, for example, in a non-ASP.NET Core application,
you can configure the agent with environment variables.
See the agent reference for more information.</p>
<p><span class="strong strong"><strong>Learn more in the agent reference</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="https://www.elastic.co/guide/en/apm/agent/dotnet/1.x/supported-technologies.html" class="ulink" target="_top">Supported technologies</a>
</li>
<li class="listitem">
<a href="https://www.elastic.co/guide/en/apm/agent/dotnet/1.x/configuration.html" class="ulink" target="_top">Advanced configuration</a>
</li>
</ul>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="node-tab-install"
       aria-labelledby="node-install"
       hidden="">
<p><span class="strong strong"><strong>Install the APM agent</strong></span></p>
<p>Install the APM agent for Node.js as a dependency to your application.</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">npm install elastic-apm-node --save</pre>
</div>
<p><span class="strong strong"><strong>Configure the agent</strong></span></p>
<p>Agents are libraries that run inside of your application process. APM services are created programmatically based on the <code class="literal">serviceName</code>.
This agent supports a variety of frameworks but can also be used with your custom stack.</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">// Add this to the VERY top of the first file loaded in your app
var apm = require('elastic-apm-node').start({
  // Override service name from package.json
  // Allowed characters: a-z, A-Z, 0-9, -, _, and space
  serviceName: '',

  // Use if APM Server requires a token
  secretToken: '',

  // Set custom APM Server URL (default: http://localhost:8200)
  serverUrl: ''
})</pre>
</div>
<p><span class="strong strong"><strong>Learn more in the agent reference</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="https://www.elastic.co/guide/en/apm/agent/nodejs/3.x/supported-technologies.html" class="ulink" target="_top">Supported technologies</a>
</li>
<li class="listitem">
<a href="https://www.elastic.co/guide/en/apm/agent/nodejs/3.x/advanced-setup.html" class="ulink" target="_top">Babel/ES Modules</a>
</li>
<li class="listitem">
<a href="https://www.elastic.co/guide/en/apm/agent/nodejs/3.x/configuring-the-agent.html" class="ulink" target="_top">Advanced configuration</a>
</li>
</ul>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="php-tab-install"
       aria-labelledby="php-install"
       hidden="">
<p><span class="strong strong"><strong>Install the agent</strong></span></p>
<p>Install the PHP agent using one of the <a href="https://github.com/elastic/apm-agent-php/releases" class="ulink" target="_top">published packages</a>.</p>
<p>To use the RPM Package (RHEL/CentOS and Fedora):</p>
<div class="pre_wrapper lang-php">
<pre class="programlisting prettyprint lang-php">rpm -ivh &lt;package-file&gt;.rpm</pre>
</div>
<p>To use the DEB package (Debian and Ubuntu):</p>
<div class="pre_wrapper lang-php">
<pre class="programlisting prettyprint lang-php">dpkg -i &lt;package-file&gt;.deb</pre>
</div>
<p>To use the APK package (Alpine):</p>
<div class="pre_wrapper lang-php">
<pre class="programlisting prettyprint lang-php">apk add --allow-untrusted &lt;package-file&gt;.apk</pre>
</div>
<p>If you can’t find your distribution,
you can install the agent by {apm-php-ref-v}/setup.html[building it from the source].</p>
<p><span class="strong strong"><strong>Configure the agent</strong></span></p>
<p>Configure your agent inside of the <code class="literal">php.ini</code> file:</p>
<div class="pre_wrapper lang-ini">
<pre class="programlisting prettyprint lang-ini">elastic_apm.server_url=http://localhost:8200
elastic_apm.secret_token=SECRET_TOKEN
elastic_apm.service_name="My-service"</pre>
</div>
<p><span class="strong strong"><strong>Learn more in the agent reference</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
{apm-php-ref-v}/supported-technologies.html[Supported technologies]
</li>
<li class="listitem">
{apm-php-ref-v}/configuration.html[Configuration]
</li>
</ul>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="python-tab-install"
       aria-labelledby="python-install"
       hidden="">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Django
</span>
</dt>
<dd>
<p><span class="strong strong"><strong>Install the APM agent</strong></span></p>
<p>Install the APM agent for Python as a dependency.</p>
<div class="pre_wrapper lang-python">
<pre class="programlisting prettyprint lang-python">$ pip install elastic-apm</pre>
</div>
<p><span class="strong strong"><strong>Configure the agent</strong></span></p>
<p>Agents are libraries that run inside of your application process.
APM services are created programmatically based on the <code class="literal">SERVICE_NAME</code>.</p>
<div class="pre_wrapper lang-python">
<pre class="programlisting prettyprint lang-python"># Add the agent to the installed apps
INSTALLED_APPS = (
  'elasticapm.contrib.django',
  # ...
)

ELASTIC_APM = {
  # Set required service name. Allowed characters:
  # a-z, A-Z, 0-9, -, _, and space
  'SERVICE_NAME': '',

  # Use if APM Server requires a token
  'SECRET_TOKEN': '',

  # Set custom APM Server URL (default: http://localhost:8200)
  'SERVER_URL': '',
}

# To send performance metrics, add our tracing middleware:
MIDDLEWARE = (
  'elasticapm.contrib.django.middleware.TracingMiddleware',
  #...
)</pre>
</div>
</dd>
<dt>
<span class="term">
Flask
</span>
</dt>
<dd>
<p><span class="strong strong"><strong>Install the APM agent</strong></span></p>
<p>Install the APM agent for Python as a dependency.</p>
<div class="pre_wrapper lang-python">
<pre class="programlisting prettyprint lang-python">$ pip install elastic-apm[flask]</pre>
</div>
<p><span class="strong strong"><strong>Configure the agent</strong></span></p>
<p>Agents are libraries that run inside of your application process.
APM services are created programmatically based on the <code class="literal">SERVICE_NAME</code>.</p>
<div class="pre_wrapper lang-python">
<pre class="programlisting prettyprint lang-python"># initialize using environment variables
from elasticapm.contrib.flask import ElasticAPM
app = Flask(__name__)
apm = ElasticAPM(app)

# or configure to use ELASTIC_APM in your application settings
from elasticapm.contrib.flask import ElasticAPM
app.config['ELASTIC_APM'] = {
  # Set required service name. Allowed characters:
  # a-z, A-Z, 0-9, -, _, and space
  'SERVICE_NAME': '',

  # Use if APM Server requires a token
  'SECRET_TOKEN': '',

  # Set custom APM Server URL (default: http://localhost:8200)
  'SERVER_URL': '',
}

apm = ElasticAPM(app)</pre>
</div>
</dd>
</dl>
</div>
<p><span class="strong strong"><strong>Learn more in the agent reference</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="https://www.elastic.co/guide/en/apm/agent/python/6.x/supported-technologies.html" class="ulink" target="_top">Supported technologies</a>
</li>
<li class="listitem">
<a href="https://www.elastic.co/guide/en/apm/agent/python/6.x/configuration.html" class="ulink" target="_top">Advanced configuration</a>
</li>
</ul>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="ruby-tab-install"
       aria-labelledby="ruby-install"
       hidden="">
<p><span class="strong strong"><strong>Install the APM agent</strong></span></p>
<p>Add the agent to your Gemfile.</p>
<div class="pre_wrapper lang-ruby">
<pre class="programlisting prettyprint lang-ruby">gem 'elastic-apm'</pre>
</div>
<p><span class="strong strong"><strong>Configure the agent</strong></span></p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Ruby on Rails
</span>
</dt>
<dd>
<p>APM is automatically started when your app boots.
Configure the agent by creating the config file <code class="literal">config/elastic_apm.yml</code>:</p>
<div class="pre_wrapper lang-ruby">
<pre class="programlisting prettyprint lang-ruby"># config/elastic_apm.yml:

# Set service name - allowed characters: a-z, A-Z, 0-9, -, _ and space
# Defaults to the name of your Rails app
service_name: 'my-service'

# Use if APM Server requires a token
secret_token: ''

# Set custom APM Server URL (default: http://localhost:8200)
server_url: 'http://localhost:8200'</pre>
</div>
</dd>
<dt>
<span class="term">
Rack
</span>
</dt>
<dd>
<p>For Rack or a compatible framework, like Sinatra, include the middleware in your app and start the agent.</p>
<div class="pre_wrapper lang-ruby">
<pre class="programlisting prettyprint lang-ruby"># config.ru
  require 'sinatra/base'

  class MySinatraApp &lt; Sinatra::Base
    use ElasticAPM::Middleware

    # ...
  end

  ElasticAPM.start(
    app: MySinatraApp, # required
    config_file: '' # optional, defaults to config/elastic_apm.yml
  )

  run MySinatraApp

  at_exit { ElasticAPM.stop }</pre>
</div>
<p><span class="strong strong"><strong>Create a config file</strong></span></p>
<p>Create a config file config/elastic_apm.yml:</p>
<div class="pre_wrapper lang-ruby">
<pre class="programlisting prettyprint lang-ruby"># config/elastic_apm.yml:

# Set service name - allowed characters: a-z, A-Z, 0-9, -, _ and space
# Defaults to the name of your Rack app's class.
service_name: 'my-service'

# Use if APM Server requires a token
secret_token: ''

# Set custom APM Server URL (default: http://localhost:8200)
server_url: 'http://localhost:8200'</pre>
</div>
</dd>
</dl>
</div>
<p><span class="strong strong"><strong>Learn more in the agent reference</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="https://www.elastic.co/guide/en/apm/agent/ruby/4.x/supported-technologies.html" class="ulink" target="_top">Supported technologies</a>
</li>
<li class="listitem">
<a href="https://www.elastic.co/guide/en/apm/agent/ruby/4.x/configuration.html" class="ulink" target="_top">Advanced configuration</a>
</li>
</ul>
</div>
  </div>
  <div tabindex="0"
      role="tabpanel"
      id="rum-tab-install"
      aria-labelledby="rum-install"
      hidden="">
<p><span class="strong strong"><strong>Enable Real User Monitoring support in APM Server</strong></span></p>
<p>APM Server disables RUM support by default.
To enable it, set <code class="literal">apm-server.rum.enabled: true</code> in your APM Server configuration file.</p>
<p><span class="strong strong"><strong>Set up the agent</strong></span></p>
<p>Once RUM support enabled, you can set up the RUM agent.
There are two ways to do this: add the agent as a dependency,
or set it up with <code class="literal">&lt;script&gt;</code> tags.</p>
<p><span class="strong strong"><strong>Set up the agent as a dependency</strong></span></p>
<p>You can install the agent as a dependency to your application with <code class="literal">npm install @elastic/apm-rum --save</code>.</p>
<p>The agent can then be initialized and configured in your application like this:</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">import { init as initApm } from '@elastic/apm-rum'
var apm = initApm({

  // Set required service name (allowed characters: a-z, A-Z, 0-9, -, _, and space)
  serviceName: 'your-app-name',

  // Set custom APM Server URL (default: http://localhost:8200)
  serverUrl: '',

  // Set service version (required for source map feature)
  serviceVersion: ''
})</pre>
</div>
<p>Framework integrations, like React or Angular, have custom dependencies.
See <a href="https://www.elastic.co/guide/en/apm/agent/rum-js/5.x/framework-integrations.html" class="ulink" target="_top">framework integrations</a> for more information.</p>
<p><span class="strong strong"><strong>Set up the agent with <code class="literal">&lt;script&gt;</code> tags</strong></span></p>
<p>Alternatively, you can use <code class="literal">&lt;script&gt;</code> tags to set up and configure the agent.
Add a <code class="literal">&lt;script&gt;</code> tag to the HTML page and use the <code class="literal">elasticApm</code> global object to load and initialize the agent.
Don&#8217;t forget to download the latest version of the RUM agent from
<a href="https://github.com/elastic/apm-agent-rum-js/releases/latest" class="ulink" target="_top">GitHub</a> or
<a href="https://unpkg.com/@elastic/apm-rum/dist/bundles/elastic-apm-rum.umd.min.js" class="ulink" target="_top">UNPKG</a>,
and host the file on your Server/CDN before deploying to production.</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">&lt;script src="https://your-cdn-host.com/path/to/elastic-apm-rum.umd.min.js" crossorigin&gt;&lt;/script&gt;
&lt;script&gt;
  elasticApm.init({
    serviceName: 'your-app-name',
    serverUrl: 'http://localhost:8200',
  })
&lt;/script&gt;</pre>
</div>
<p><span class="strong strong"><strong>Learn more in the agent reference</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="https://www.elastic.co/guide/en/apm/agent/rum-js/5.x/supported-technologies.html" class="ulink" target="_top">Supported technologies</a>
</li>
<li class="listitem">
<a href="https://www.elastic.co/guide/en/apm/agent/rum-js/5.x/configuration.html" class="ulink" target="_top">Advanced configuration</a>
</li>
</ul>
</div>
  </div>
  <div tabindex="0"
      role="tabpanel"
      id="otel-tab-install"
      aria-labelledby="otel-install"
      hidden="">
<p>Elastic integrates with OpenTelemetry, allowing you to reuse your existing instrumentation
to easily send observability data to the Elastic Stack.</p>
<p>For more information on how to combine Elastic and OpenTelemetry,
see <a href="https://www.elastic.co/guide/en/apm/guide/master/open-telemetry.html" class="ulink" target="_top">OpenTelemetry integration</a>.</p>
  </div>
</div>
<h5><a id="configuring-apm"></a>Step 2: Configure APM<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/master/docs/en/observability/instrument-apps.asciidoc">edit</a></h5>
<p><a id="configure-apm-data"></a>Now that you&#8217;re up and running with Elastic APM, you may want to adjust some configuration settings.
Luckily, there are many different ways to tweak and tune the Elastic ecosystem to adapt it to your needs.</p>
<p><a id="configure-apm-agents"></a><span class="strong strong"><strong>Configure APM Agents</strong></span></p>
<div class="tabs" data-tab-group="config-agent">
  <div role="tablist" aria-label="Configure agents">
    <button role="tab"
            aria-selected="true"
            aria-controls="cloud-tab-config-agent"
            id="cloud-config-agent">
      Central configuration
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="self-managed-tab-config-agent"
            id="self-managed-config-agent"
            tabindex="-1">
      Agent configuration
    </button>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="cloud-tab-config-agent"
       aria-labelledby="cloud-config-agent">
<p>Central configuration allows you to fine-tune your agent configuration from within the APM app.
Changes are automatically propagated to your APM agents, and there’s no need to redeploy.</p>
<p>A select number of configuration options are supported.
See <a href="https://www.elastic.co/guide/en/kibana/master/agent-configuration.html" class="ulink" target="_top">Agent configuration in Kibana</a>
for more information and a configuration reference.</p>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="self-managed-tab-config-agent"
       aria-labelledby="self-managed-config-agent"
       hidden="">
<p>For a full list of agent configuration options, see the relevant agent reference:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="https://www.elastic.co/guide/en/apm/agent/go/2.x/configuration.html" class="ulink" target="_top">Go Agent configuration</a>
</li>
<li class="listitem">
<a href="https://www.elastic.co/guide/en/apm/agent/swift/0.x/configuration.html" class="ulink" target="_top">iOS Agent configuration</a>
</li>
<li class="listitem">
<a href="https://www.elastic.co/guide/en/apm/agent/java/1.x/configuration.html" class="ulink" target="_top">Java Agent configuration</a>
</li>
<li class="listitem">
<a href="https://www.elastic.co/guide/en/apm/agent/dotnet/1.x/configuration.html" class="ulink" target="_top">.NET Agent configuration</a>
</li>
<li class="listitem">
<a href="https://www.elastic.co/guide/en/apm/agent/nodejs/current/configuring-the-agent.html" class="ulink" target="_top">Node.js Agent configuration</a>
</li>
<li class="listitem">
<a href="https://www.elastic.co/guide/en/apm/agent/python/6.x/configuration.html" class="ulink" target="_top">Python Agent configuration</a>
</li>
<li class="listitem">
<a href="https://www.elastic.co/guide/en/apm/agent/ruby/4.x/configuration.html" class="ulink" target="_top">Ruby Agent configuration</a>
</li>
<li class="listitem">
<a href="https://www.elastic.co/guide/en/apm/agent/rum-js/5.x/configuration.html" class="ulink" target="_top">RUM Agent configuration</a>
</li>
</ul>
</div>
  </div>
</div>
<p><a id="configure-elastic-cloud"></a><span class="strong strong"><strong>Configure APM Server</strong></span></p>
<div class="tabs" data-tab-group="spin-up-stack">
  <div role="tablist" aria-label="Configure Server">
    <button role="tab"
            aria-selected="true"
            aria-controls="cloud-tab-config-server"
            id="cloud-config-server">
      Elasticsearch Service
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="self-managed-tab-config-server"
            id="self-managed-config-server"
            tabindex="-1">
      Self-managed
    </button>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="cloud-tab-config-server"
       aria-labelledby="cloud-config-server">
<p>If you&#8217;re running APM Server in Elastic cloud, you can configure your own user settings right in the Elasticsearch Service Console.
Any changes are automatically appended to the <code class="literal">apm-server.yml</code> configuration file for your instance.</p>
<p>Full details are available in the <a href="https://www.elastic.co/guide/en/cloud/current/ec-manage-apm-settings.html" class="ulink" target="_top">APM user settings</a> documentation.</p>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="self-managed-tab-config-server"
       aria-labelledby="self-managed-config-server"
       hidden="">
<p>If you&#8217;ve installed APM Server yourself, you can edit the <code class="literal">apm-server.yml</code> configuration file to make changes.
More information is available in <a href="https://www.elastic.co/guide/en/apm/guide/master/configuring-howto-apm-server.html" class="ulink" target="_top">configuring APM Server</a>.</p>
<p>Don&#8217;t forget to also read about
<a href="https://www.elastic.co/guide/en/apm/guide/master/securing-apm-server.html" class="ulink" target="_top">securing APM Server</a>, and
<a href="https://www.elastic.co/guide/en/apm/guide/master/monitoring.html" class="ulink" target="_top">monitoring APM Server</a>.</p>
  </div>
</div>
<h5><a id="view-apm-data"></a>Step 3: View your data in Kibana<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/master/docs/en/observability/instrument-apps.asciidoc">edit</a></h5>
<p>To view the <a class="xref" href="observability-ui.html" title="Observability overview page">Observability Overview</a> page:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>Launch Kibana:</p>
<div class="tabs" data-tab-group="host">
  <div role="tablist" aria-label="Open Kibana">
    <button role="tab"
            aria-selected="true"
            aria-controls="cloud-tab-open-kibana"
            id="cloud-open-kibana">
      Elasticsearch Service
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="self-managed-tab-open-kibana"
            id="self-managed-open-kibana"
            tabindex="-1">
      Self-managed
    </button>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="cloud-tab-open-kibana"
       aria-labelledby="cloud-open-kibana">
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<a href="https://cloud.elastic.co/" class="ulink" target="_top">Log in</a> to your Elastic Cloud account.
</li>
<li class="listitem">
Navigate to the Kibana endpoint in your deployment.
</li>
</ol>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="self-managed-tab-open-kibana"
       aria-labelledby="self-managed-open-kibana"
       hidden="">
<p>Point your browser to <a href="http://localhost:5601" class="ulink" target="_top">http://localhost:5601</a>, replacing
<code class="literal">localhost</code> with the name of the Kibana host.</p>
  </div>
</div>
</li>
<li class="listitem">
In the side navigation, select <span class="strong strong"><strong>Observability</strong></span>, and click <span class="strong strong"><strong>Overview</strong></span>.
</li>
</ol>
</div>
</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="deploy-agent-to-send-data.html">« Deploy Elastic Agent to send data</a>
</span>
<span class="next">
<a href="aws-elastic-serverless-forwarder.html">Elastic Serverless Forwarder for AWS »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
